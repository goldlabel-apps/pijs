{"version":3,"sources":["redux/system/actions.js","redux/system/reducer.js","fire.js","redux/firebase/actions.js","redux/firebase/reducer.js","redux/weather/actions.js","redux/weather/reducer.js","redux/initRedux.js","serviceWorker.js","theme/mui.jsx","components/Boot.jsx","components/Camera.jsx","components/Dock.jsx","graphics/GithubSVG.jsx","graphics/PiJSSVG.jsx","graphics/PiJSBackSVG.jsx","graphics/SpadeSVG.jsx","components/Icon.jsx","components/Logo.jsx","components/Mapbox.jsx","components/MoreInfo.jsx","components/SpeedDialMenu.jsx","components/UserEntity.jsx","components/View.jsx","components/Weather.jsx","ClockWork.jsx","index.js","ViewSwitcher.jsx"],"names":["boot","createAction","reset","tick","systemSays","setFingerprint","setIpgeo","showUserAtTick","newVisit","updateCamera","openCamera","closeCamera","openUserEntity","closeUserEntity","mapComplete","systemSlice","camera","updated","Date","now","open","currentPhoto","userEntity","data","errors","visits","created","lastVisit","fingerprint","ipgeo","lastFetch","clockWork","tickDelay","ticks","mapbox","userLocation","mapboxStyle","lat","lng","zoom","flySpeed","hasZoomed","booted","userShownAtTick","consoleMessage","cursorOn","system","createReducer","state","action","oldFingerprint","value","newFingerprint","components","userAgent","say","color","message","status","fire","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","setChecked","checkFingerprint","store","getStore","collection","where","get","then","querySnapshot","empty","forEach","doc","catch","error","finally","dispatch","type","checked","firebaseSlice","toggleFetching","save","close","weatherSlice","fetching","weather","push","bool","initRedux","persistConfig","key","storage","reducers","combineReducers","persistedReducer","persistReducer","preloadedState","middleware","getDefaultMiddleware","serializableCheck","configureStore","reducer","devTools","enhancers","reduxBatch","persistor","persistStore","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","confirm","localStorage","clear","ready","unregister","assign","packageJSON","version","onUpdate","console","log","onSuccess","theme","palette","primary","main","secondary","background","default","paper","appBar","contentFrame","text","useStyles","makeStyles","border","height","margin","spacing","fontSize","Boot","classes","useSelector","className","dangerouslySetInnerHTML","__html","createMarkup","maxWidth","iconBtnSpacer","marginTop","marginLeft","cameraImage","borderRadius","maxHeight","grow","flexGrow","white","MemodFuncComponent","React","memo","showThis","Card","CardHeader","title","avatar","icon","IconButton","onClick","e","preventDefault","CardContent","onError","alert","alt","src","top","bottom","center","constrain","padding","props","weatherIcon","outlookIcon","Avatar","AppBar","position","Toolbar","Tooltip","edge","aria-label","GithubSVG","c","viewBox","id","stroke","strokeWidth","fill","fillRule","d","PiJSSVG","transform","PiJSBackSVG","points","SpadeSVG","Icon","this","iconColor","navIcon","Component","withStyles","width","homeIcon","marginRight","withTheme","logo","display","logoText","mapboxgl","accessToken","Mapbox","zoomIn","map","flyTo","speed","essential","once","defaultLocation","mapOptions","container","mapContainer","style","interactive","Map","on","setState","Fragment","ref","el","connect","latitude","longitude","moreInfoPanel","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","Typography","ExpansionPanelDetails","variant","Button","fullWidth","resetBtn","ipgeoFlag","paddingTop","ipgeoText","btnIcon","ip","city","country_name","state_prov","ipgeolocation","moreInfo","view","backgroundColor","minHeight","topColumn","View","cameraOpen","userEntityOpen","weatherOpen","Grid","item","xs","sm","md","none","windSpeed","Math","round","wind","windDirection","num","val","abs","degToCompass","deg","temperature","temp","humidity","overview","description","sunrise","moment","sys","fromNow","sunset","ClockWork","timer","userEntityCreated","fingerprintChecked","userEntityCreatedAgo","zipcode","startTimer","setInterval","stopTimer","clearInterval","Fingerprint2","getPromise","values","component","x64hash128","join","userAgentParser","find","o","createFingerprint","updateRequired","getState","axios","response","fetchWeather","name","persistedRedux","ReactDOM","render","loading","CssBaseline","screen","createMuiTheme","muiTheme","document","getElementById","URL","href","origin","addEventListener","fetch","contentType","headers","indexOf","reload","checkValidServiceWorker"],"mappings":"iTAMaA,EAAOC,YAAa,eACpBC,EAAQD,YAAa,gBACrBE,EAAOF,YAAa,eACpBG,EAAaH,YAAa,eAC1BI,EAAiBJ,YAAa,0BAC9BK,EAAWL,YAAa,oBAExBM,GADaN,YAAa,sBACTA,YAAa,+BAC9BO,EAAWP,YAAa,oBAExBQ,EAAeR,YAAa,wBAC5BS,EAAaT,YAAa,sBAC1BU,EAAcV,YAAa,uBAE3BW,EAAiBX,YAAa,0BAC9BY,EAAkBZ,YAAa,2BAC/Ba,EAAcb,YAAa,kCCJ3Bc,EAAc,CAEzBC,OAAQ,CACNC,QAASC,KAAKC,MACdC,MAAM,EACNC,aAAc,MAGhBC,WAAY,CACVL,QAASC,KAAKC,MACdC,MAAM,EACNG,KAAM,KACNC,OAAQ,GACRC,OAAQ,EACRC,QAAS,KACTC,UAAW,KACXC,YAAa,CACXL,KAAM,IAERM,MAAO,CACLC,UAAW,EACXP,KAAM,KAGVQ,UAAW,CACTC,UAAW,GACXC,MAAO,GAETC,OAAQ,CACNjB,QAASC,KAAKC,MACdgB,aAAc,KACdC,YAAY,wDACZC,IAAK,EACLC,IAAK,EACLC,KAAM,EACNC,SAAU,GACVC,WAAW,GAEbzC,KAAM,CACJiB,QAASC,KAAKC,MACdC,MAAM,EACNsB,QAAQ,EACRC,gBAAiB,KACjBC,eAAe,GACfC,UAAU,IAIRC,EAASC,YAAchC,GAAD,mBAEzBH,GAAiB,SAACoC,GAEjB,OADAA,EAAM1B,WAAWF,MAAO,EACjB4B,KAJiB,cAOzBnC,GAAkB,SAACmC,GAElB,OADAA,EAAM1B,WAAWF,MAAO,EACjB4B,KATiB,cAYzBxC,GAAW,SAACwC,GAEX,OADAA,EAAM1B,WAAWG,OAASuB,EAAM1B,WAAWG,OAAS,EAC7CuB,KAdiB,cAiBzBvC,GAAe,SAACuC,GAMf,OALIA,EAAMhC,SACRgC,EAAMhC,OAAOC,QAAUC,KAAKC,MAC5B6B,EAAMhC,OAAOK,aAAb,oDAAyEH,KAAKC,QAGzE6B,KAvBiB,cA0BzBzC,GAAiB,SAACyC,EAAOC,GAExB,OADAD,EAAMhD,KAAK2C,gBAAkBM,EAAOhB,MAC7Be,KA5BiB,cA+BzB1C,GAAW,SAAC0C,EAAOC,GAGlB,OAFAD,EAAM1B,WAAWO,MAAMN,KAAO0B,EAAOpB,MACrCmB,EAAM1B,WAAWO,MAAMC,UAAYZ,KAAKC,MACjC6B,KAlCiB,cAqCzB3C,GAAiB,SAAC2C,EAAOC,GACxB,IAAMC,EAAiBF,EAAM1B,WAAWM,YAAYuB,MAChDC,EAAiB,CACnBnC,QAASC,KAAKC,MACdgC,MAAOF,EAAOrB,YACdsB,iBACAG,WAAYJ,EAAOI,WACnBC,UAAWL,EAAOK,WAMpB,OAJKJ,IACHF,EAAM1B,WAAWI,QAAUR,KAAKC,OAElC6B,EAAM1B,WAAWM,YAAcwB,EACxBJ,KAlDiB,cAqDzB5C,GAAa,SAAC4C,EAAOC,GAEpB,OADAD,EAAMhD,KAAK4C,gBAAX,+BAAqDK,EAAOM,IAAIC,MAAhE,cAA2EP,EAAOM,IAAIE,QAAtF,WACOT,KAvDiB,cA0DzB7C,GAAO,SAAC6C,GAGP,OAFAA,EAAMjB,UAAUE,QAChBe,EAAMhD,KAAK6C,UAAYG,EAAMhD,KAAK6C,SAC3BG,KA7DiB,cAgEzBhD,GAAO,SAACgD,GAGP,OAFAA,EAAMhD,KAAK0C,QAAS,EACpBM,EAAMhD,KAAK0D,OAAS,SACbV,KAnEiB,cAsEzBlC,GAAc,SAACkC,EAAOC,GAGrB,OAFAD,EAAMd,OAAOjB,QAAUC,KAAKC,MAC5B6B,EAAMd,OAAOC,aAAec,EAAOd,aAC5Ba,KAzEiB,cA4EzBtC,GAAa,SAACsC,GAGb,OAFAA,EAAMhC,OAAOC,QAAUC,KAAKC,MAC5B6B,EAAMhC,OAAOI,MAAO,EACb4B,KA/EiB,cAkFzBrC,GAAc,SAACqC,GAGd,OAFAA,EAAMhC,OAAOC,QAAUC,KAAKC,MAC5B6B,EAAMhC,OAAOI,MAAO,EACb4B,KArFiB,cAwFzB9C,GAAQ,WACP,OAAOa,KAzFiB,I,iBCpDtB4C,G,OAAOC,IAASC,cAVT,CACTC,OAAQC,0CACRC,WAAYD,mCACZE,YAAaF,0CACbG,UAAWH,mBACXI,cAAeJ,+BACfK,kBAAmBL,eACnBM,MAAON,4CACPO,cAAeP,kBAKbQ,EAAKZ,EAAKa,YCbHtE,EAAQD,YAAa,kBACrBwE,EAAaxE,YAAa,4BAE1ByE,EAAmB,SAAC9C,GAE/B,IAAM+C,EAAQC,KACdL,EAAGM,WAAH,gBAA8BC,MAA9B,cAAmD,KAAnD,cACGC,MACAC,MAAK,SAAUC,GACVA,EAAcC,MAGlBD,EAAcE,SAAQ,SAAUC,UAIjCC,OAAM,SAAUC,OAGhBC,SAAQ,WACPZ,EAAMa,SAAS,CAAEC,KAAM,2BAA4BC,SAAS,QClBrDC,EAAgB,CAC3B/D,YAAa,CACXX,QAASC,KAAKC,MACduE,SAAS,IAIP9B,EAAWb,YAAc4C,GAAD,iBAAC,EAE5BlB,GAAa,SAACzB,EAAOC,GAIpB,OAFAD,EAAMpB,YAAYX,QAAUC,KAAKC,MACjC6B,EAAMpB,YAAY8D,QAAUzC,EAAOyC,QAC5B1C,KANmB,YAAC,EAS5B9C,GAAQ,WACP,OAAOyF,KAVmB,ICTjBC,EAAiB3F,YAAa,wBAC9BC,EAAQD,YAAa,iBACrB4F,EAAO5F,YAAa,gBACpBqF,EAAQrF,YAAa,iBACrBmB,GAAOnB,YAAa,gBACpB6F,GAAQ7F,YAAa,iBCCrB8F,GAAe,CAC1B9E,QAASC,KAAKC,MACd6E,UAAU,EACV5E,MAAM,EACNG,KAAM,KACNC,OAAQ,IAGJyE,GAAUlD,YAAcgD,IAAD,iBAAC,EAE3BT,GAAQ,SAACtC,EAAOC,GAIf,OAFAD,EAAM/B,QAAUC,KAAKC,MACrB6B,EAAMxB,OAAO0E,KAAKjD,EAAOqC,OAClBtC,KANkB,YAAC,EAS3B6C,GAAO,SAAC7C,EAAOC,GAId,OAFAD,EAAM/B,QAAUC,KAAKC,MACrB6B,EAAMzB,KAAO0B,EAAO1B,KACbyB,KAbkB,YAAC,EAgB3B4C,GAAiB,SAAC5C,EAAOC,GAIxB,OAFAD,EAAM/B,QAAUC,KAAKC,MACrB6B,EAAMgD,SAAW/C,EAAOkD,KACjBnD,KApBkB,YAAC,EAuB3B8C,IAAQ,SAAC9C,GAGR,OAFAA,EAAM/B,QAAUC,KAAKC,MACrB6B,EAAM5B,MAAO,EACN4B,KA1BkB,YAAC,EA6B3B5B,IAAO,SAAC4B,GAGP,OAFAA,EAAM/B,QAAUC,KAAKC,MACrB6B,EAAM5B,MAAO,EACN4B,KAhCkB,YAAC,EAmC3B9C,GAAQ,WACP,OAAO6F,MApCkB,IC8BdK,GAvCG,WAChB,IAAMC,EAAgB,CACpBC,IAAK,OACLC,aAGIC,EAAWC,0BAAgB,CAC/B3D,SACAc,WACAqC,aAGIS,EAAmBC,YAAeN,EAAeG,GAEjDI,EAAiB,CACrB9D,OAAQ/B,EACR6C,SAAU+B,EACVM,QAASF,IAGLc,EAAU,YACXC,YAAqB,CACtBC,mBAAmB,KAIjBpC,EAAQqC,YAAe,CAC3BC,QAASP,EACTG,aACAK,UAAUnD,EACV6C,iBACAO,UAAW,CAACC,gBAKd,MAAO,CAAEzC,QAAO0C,UAFEC,YAAa3C,K,kBCzC3B4C,GAAcC,QACW,cAA7BC,OAAOC,SAASC,UACe,UAA7BF,OAAOC,SAASC,UAChBF,OAAOC,SAASC,SAASC,MACvB,2DA6BN,SAASC,GAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACT9C,MAAK,SAAAmD,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBrF,QACfgF,UAAUC,cAAcO,aAGX,IADAC,QAAQ,kCAErBhB,OAAOiB,aAAaC,QAgD9B,kBAAmBX,WACrBA,UAAUC,cAAcW,MAAM5D,MAAK,SAAAmD,GACjCA,EAAaU,gBAhDHpB,OAAOC,SAASoB,OAAO,kBAAoBC,EAAYC,UAGrDjB,GAAUA,EAAOkB,UACnBlB,EAAOkB,SAASd,KAGlBe,QAAQC,IAAI,+BACRpB,GAAUA,EAAOqB,WACnBrB,EAAOqB,UAAUjB,WAO5B9C,OAAM,SAAAC,GACL4D,QAAQ5D,MAAM,4CAA6CA,M,wBC9ClD+D,GAvBD,CACVC,QAAS,CACL7D,KAAM,OACN8D,QAAS,CACLC,KAAM,wBAGVC,UAAW,CACPD,KAAM,WAEVE,WAAY,CACRC,QAAS,UACTC,MAAO,UACPC,OAAQ,UACRC,aAAc,WAElBC,KAAM,CACFR,QAAS,uBACTE,UAAW,a,SCdjBO,GAAYC,cAAW,SAAAZ,GAAK,MAAK,CACnCrJ,KAAM,CACF0J,WAAY,UACZQ,OAAQ,oBACRC,OAAQ,SAEZ1G,QAAS,CACL2G,OAAQf,EAAMgB,QAAQ,GACtBC,SAAU,OACV9G,MAAO,aAIA,SAAS+G,KACpB,IAAMC,EAAUR,KAEZhK,EACAyK,cAAY,SAAAzH,GAAK,OAAIA,EAAMF,UAD3B9C,KAEI4C,EAAmB5C,EAAnB4C,eAEJC,EAEA7C,EAFA6C,SASJ,OACI,yBAAK6H,UAAWF,EAAQxK,MACpB,yBACI0K,UAAWF,EAAQ/G,QACnBkH,wBAVS,WACjB,IAAIlH,EAAUb,EAGd,MAAO,CAAEgI,OADTnH,EAAUZ,EAAQ,UAAMY,EAAN,MAAoBA,GAOLoH,M,4CCvBnCb,GAAYC,cAAW,SAAAZ,GAAK,MAAK,CACnCrI,OAAQ,CACJoJ,OAAQf,EAAMgB,UACdS,SAAU,KAEdC,cAAe,CACXC,UAAW3B,EAAMgB,UACjBY,WAAY5B,EAAMgB,QAAQ,IAE9Ba,YAAa,CACThB,OAAQ,kCACRiB,aAAc9B,EAAMgB,UACpBS,SAAU,OACVM,UAAW,KAEfC,KAAM,CACFC,SAAU,GAEdC,MAAO,CACH/H,MAAO,aA2Df,IACegI,GADYC,IAAMC,MAtDjC,WAEI,IASIC,EATEnB,EAAUR,KACVrF,EAAQC,KAHA,EAOV6F,cAAY,SAAAzH,GAAK,OAAIA,EAAMF,OAAO9B,UAFlCI,EALU,EAKVA,KACAC,EANU,EAMVA,aAGJ,OAAKD,GAIDuK,EADAtK,GAGQ,eAOR,kBAACuK,GAAA,EAAD,CAAMlB,UAAWF,EAAQxJ,QACrB,kBAAC6K,GAAA,EAAD,CACIC,MAND,SAQCC,OAAQ,kBAAC,GAAD,CACIC,KAAI,SACJxI,MAAK,YACjBP,OACI,kBAACgJ,GAAA,EAAD,CACIC,QAAS,SAACC,GACNA,EAAEC,iBACFzH,EAAMa,SAAS,CAAEC,KAAM,0BAE3B,kBAAC,GAAD,CACIuG,KAAI,QACJxI,MAAK,eAIrB,kBAAC6I,GAAA,EAAD,KACI,yBACIC,QAAS,SAACH,GACNI,MAAO,cAAeJ,IAE1BzB,UAAWF,EAAQU,YACnBsB,IAAG,SACHC,IAAKd,OAvCD,Q,wCC/BlB3B,GAAYC,cAAW,SAAAZ,GAAK,MAAK,CACnCgC,KAAM,CACFC,SAAU,GAEdzB,OAAQ,CACJ6C,IAAK,OACLC,OAAQ,GAEZC,OAAQ,GAERC,UAAW,CAEPC,QAASzD,EAAMgB,eA0FvB,IACemB,GADYC,IAAMC,MAtFjC,SAAcqB,GAEV,IAAMvC,EAAUR,KACVrF,EAAQC,KAKVrD,EACAkJ,cAAY,SAAAzH,GAAK,OAAIA,EAAMiD,WAD3B1E,KAGAyL,EAAc,kBAAC,GAAD,CACdhB,KAAI,UACJxI,MAAK,YAEHyJ,EAAW,2CAAuC1L,EAAK0E,QAAQ,GAAG+F,KAAvD,QAQjB,OAPIiB,IACAD,EAAc,kBAACE,GAAA,EAAD,CAAQT,IAAKQ,EAAaT,IAAG,aAO3C,kBAACW,GAAA,EAAD,CACIzC,UAAWF,EAAQX,OACnBrG,MAAK,YACL4J,SAAQ,SACR,yBAAK1C,UAAWF,EAAQoC,QACxB,kBAACS,GAAA,EAAD,CAAS3C,UAAWF,EAAQqC,WAExB,yBAAKnC,UAAWF,EAAQa,OACxB,kBAACiC,GAAA,EAAD,CAASxB,MAAK,UACV,kBAACG,GAAA,EAAD,CAEIsB,KAAI,QACJ/J,MAAK,UACLgK,aAAA,SACAtB,QAAS,SAACC,GACNA,EAAEC,iBACFzH,EAAMa,SAAS,CAAEC,KAAK,yBAE1B,kBAAC,GAAD,CACIuG,KAAI,SACJxI,MAAK,cAIjB,kBAAC8J,GAAA,EAAD,CAASxB,MAAK,WACV,kBAACG,GAAA,EAAD,CAEIsB,KAAI,QACJ/J,MAAK,UACLgK,aAAA,UACAtB,QAAS,SAACC,GACNA,EAAEC,iBACFzH,EAAMa,SAAS,CAAEC,KAAK,mBAEzBuH,IAIT,kBAACM,GAAA,EAAD,CAASxB,MAAK,WACV,kBAACG,GAAA,EAAD,CAEIsB,KAAI,QACJ/J,MAAK,UACLgK,aAAA,UACAtB,QAAS,SAACC,GACNA,EAAEC,iBACFzH,EAAMa,SAAS,CAAEC,KAAK,6BAE1B,kBAAC,GAAD,CACIuG,KAAI,aACJxI,MAAK,cAIb,kBAAC,GAAD,Y,snBCpFLiK,GAxBG,SAAAV,GAAU,IAChBvJ,EAAUuJ,EAAVvJ,MACJkK,EAAC,UAML,OALIlK,GACIA,IACAkK,EAAIlK,GAIR,yCACQuJ,EADR,CAEIY,QAAQ,gBAER,uBAAGC,GAAG,aAAaC,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClE,uBAAGD,KAAML,GACL,uBAAGE,GAAG,UACF,0BAAMK,EAAE,85DAA85DL,GAAG,QAAQI,SAAS,iBCCn8DE,GAjBC,SAAAnB,GAAK,OACjB,yCACQA,EADR,CAEIY,QAAQ,gBAER,uBAAGE,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,uBAAGG,UAAU,kCAAkCH,SAAS,WACpD,2BACI,0BAAMC,EAAE,4yFAA4yFF,KAAK,YACzzF,0BAAME,EAAE,+pIAA+pIF,KAAK,YAC5qI,0BAAME,EAAE,0uFAA0uFF,KAAK,iBCW5vFK,GArBK,SAAArB,GAAK,OACrB,yCACQA,EADR,CAEIY,QAAQ,gBAER,uBAAGC,GAAG,OAAOC,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAC5D,uBAAGJ,GAAG,OAAOG,KAAK,UAAUC,SAAS,WACjC,uBAAGJ,GAAG,WACF,uBAAGA,GAAG,gBACF,0BAAMK,EAAE,8zFAA8zFL,GAAG,YAIr1F,uBAAGA,GAAG,8BAA8BO,UAAU,2HAC1C,6BAASP,GAAG,OAAOS,OAAO,sDAC1B,0BAAMJ,EAAE,yNAAyNL,GAAG,QAAQG,KAAK,UAAUC,SAAS,gBCGrQM,GAlBE,SAAAvB,GAAU,IACfvJ,EAAUuJ,EAAVvJ,MACJkK,EAAC,UAML,OALIlK,GACIA,IACAkK,EAAIlK,GAIR,yCAASuJ,EAAT,CAAgBY,QAAQ,cACpB,uBAAGE,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAClD,uBAAGG,UAAU,gCAAgCJ,KAAML,GAC/C,0BAAMO,EAAE,+yB,wCCuCtBM,G,sLAEQ,IAAD,EAKDC,KAAKzB,MAHLvC,EAFC,EAEDA,QACAwB,EAHC,EAGDA,KACAxI,EAJC,EAIDA,MAEAiL,EAAS,YAIb,OAHIjL,IACAiL,EAAYjL,GAERwI,GAEJ,IAAI,QACA,OAAQ,kBAAC,KAAD,CAAWxI,MAAOiL,IAE9B,IAAI,aACA,OAAQ,kBAAC,KAAD,CAAgBjL,MAAOiL,IAEnC,IAAI,WACA,OAAQ,kBAAC,KAAD,CAAcjL,MAAOiL,IAEjC,IAAI,KACA,OAAQ,kBAAC,GAAD,CAAS/D,UAAWF,EAAQkE,UAExC,IAAI,UACA,OAAQ,kBAAC,GAAD,CAAahE,UAAWF,EAAQkE,UAE5C,IAAI,UACA,OAAQ,kBAAC,KAAD,CAAalL,MAAOiL,IAEhC,IAAI,cACA,OAAQ,kBAAC,KAAD,CAAiBjL,MAAOiL,IAEpC,IAAI,eACA,OAAQ,kBAAC,KAAD,CAAajL,MAAOiL,IAEhC,IAAI,YACA,OAAQ,kBAAC,KAAD,CAAUjL,MAAOiL,IAE7B,IAAI,OACA,OAAQ,kBAAC,KAAD,CAAUjL,MAAOiL,IAE7B,IAAI,cACA,OAAQ,kBAAC,GAAD,CAAUjL,MAAOiL,EAAW/D,UAAWF,EAAQkE,UAE3D,IAAI,SACA,OAAQ,kBAAC,GAAD,CAAWlL,MAAK,OAAUkH,UAAWF,EAAQkE,UAEzD,IAAI,UACA,OAAQ,kBAAC,KAAD,CAAalL,MAAOiL,IAEhC,IAAI,QACA,OAAQ,kBAAC,KAAD,CAAWjL,MAAOiL,IAE9B,IAAI,aACA,OAAQ,kBAAC,KAAD,CAAgBjL,MAAOiL,IAEnC,IAAI,UACA,OAAQ,kBAAC,KAAD,CAAajL,MAAOiL,IAEhC,IAAI,SACA,OAAQ,kBAAC,KAAD,CAAYjL,MAAOiL,IAE/B,IAAI,WACA,OAAQ,kBAAC,KAAD,CAAcjL,MAAOiL,IAEjC,IAAI,WACA,OAAQ,kBAAC,KAAD,CAAcjL,MAAOiL,IAEjC,IAAI,aACA,OAAQ,kBAAC,KAAD,CAAgBjL,MAAOiL,IAEnC,IAAI,cACA,OAAQ,kBAAC,KAAD,CAAiBjL,MAAOiL,IAEpC,IAAI,SACA,OAAQ,kBAAC,KAAD,CAAYjL,MAAOiL,IAE/B,IAAI,MACA,OAAQ,kBAAC,KAAD,CAASjL,MAAOiL,IAE5B,IAAI,OACA,OAAQ,kBAAC,KAAD,CAAUjL,MAAOiL,IAE7B,IAAI,OACA,OAAQ,kBAAC,KAAD,CAAUjL,MAAOiL,IAE7B,IAAI,OACA,OAAQ,kBAAC,KAAD,CAAUjL,MAAOiL,IAE7B,IAAI,QACA,OAAQ,kBAAC,KAAD,CAAWjL,MAAOiL,IAE9B,IAAI,UACA,OAAQ,kBAAC,KAAD,CAAajL,MAAOiL,IAEhC,IAAI,OACA,OAAQ,kBAAC,KAAD,CAAUjL,MAAOiL,IAE7B,IAAI,QAGJ,IAAI,UACA,OAAQ,kBAAC,KAAD,CAAWjL,MAAOiL,IAE9B,IAAI,KACA,OAAQ,kBAAC,KAAD,CAAQjL,MAAOiL,IAE3B,IAAI,WACA,OAAQ,kBAAC,KAAD,CAAcjL,MAAOiL,IAEjC,IAAI,SACA,OAAQ,kBAAC,KAAD,CAAYjL,MAAOiL,IAE/B,IAAI,OACA,OAAQ,kBAAC,KAAD,CAAUjL,MAAOiL,IAE7B,IAAI,OACA,OAAQ,kBAAC,KAAD,CAAUjL,MAAOiL,IAE7B,IAAI,UACA,OAAQ,kBAAC,KAAD,CAAajL,MAAOiL,IAEhC,IAAI,MACA,OAAQ,kBAAC,KAAD,CAASjL,MAAOiL,IAE5B,QACI,OAAO,U,GAjIJE,aAwIfC,iBArJW,SAAAvF,GAAK,MAAK,CACrBqF,QAAS,CACLG,MAAO,GACP1E,OAAQ,IAEZ2E,SAAU,CACNC,YAAa1F,EAAMgB,WAEvBkB,MAAO,CACH/H,MAAO,YA4IQ,CAAEwL,WAAW,GAAhCJ,CAAwCL,IClLtCvE,GAAYC,cAAW,SAAAZ,GAAK,MAAK,CACnC4F,KAAM,CACFC,QAAS,OACTH,YAAa1F,EAAMgB,QAAQ,IAE/B8E,SAAU,CACN3L,MAAO,UACPwH,UAAW3B,EAAMgB,QAAQ,UA6BjC,IACemB,GADYC,IAAMC,MAzBjC,WACI,IAAMlB,EAAUR,KACVrF,EAAQC,KACd,OACI,yBACIgJ,GAAE,OACFlD,UAAWF,EAAQyE,MACnB,kBAAChD,GAAA,EAAD,CACIC,QAAS,SAACC,GACNA,EAAEC,iBACFzH,EAAMa,SAAS,CAAEC,KAAK,uBACtBd,EAAMa,SAAS,CAAEC,KAAK,iBACtBd,EAAMa,SAAS,CAAEC,KAAK,6BAE1B,kBAAC,GAAD,CAAMuG,KAAI,Y,oBC/B1BoD,KAASC,YAActL,iGAEvB,IAOMuL,G,YAEF,WAAYvC,GAAQ,IAAD,+BACf,8CAAMA,KAyDVwC,OAAS,SAAC7H,GAAc,IACZ8H,EAAQ,EAAKxM,MAAbwM,IACRA,EAAIC,MAAM,CACN7C,OAAQ,CAAClF,EAASpF,IAAKoF,EAASrF,KAChCE,KAAMmF,EAASnF,KACfmN,MAAOhI,EAASlF,SAChBmN,WAAW,IAEfH,EAAII,KAAK,WAAW,WACFhL,KACRY,SAAS,CAAEC,KAAK,iCAAmCtD,aAAcuF,QAlE3E,EAAK1E,MAAQ,CACTwM,IAAK,KACLK,gBAAiB,CACbxN,IAAK,EACLC,IAAK,EACLC,KAAM,EACNC,SAAU,MARH,E,mFAaE,IAAD,SAMZgM,KAAKzB,MAJL1K,EAFY,EAEZA,IACAC,EAHY,EAGZA,IACAJ,EAJY,EAIZA,OACAC,EALY,EAKZA,aAGAC,EAEAF,EAFAE,YACAG,EACAL,EADAK,KAGAuN,EAAa,CACbC,UAAWvB,KAAKwB,aAChBC,MAAO7N,EACPwK,OAAQ,CAACtK,EAAKD,GACdE,OACA2N,aAAa,GAGb/N,IACA2N,EAAWlD,OAAS,CAACzK,EAAaG,IAAKH,EAAaE,KACpDyN,EAAWvN,KAAOJ,EAAaI,MAGnC,IAAMiN,EAAM,IAAIJ,KAASe,IAAIL,GAE7BN,EAAIY,GAAG,QAAQ,WAAO,IAAD,EAIb,EAAKrD,MAAM7K,OAFXO,EAFa,EAEbA,UACAN,EAHa,EAGbA,aAECM,GAAcN,GACf,EAAKoN,OAAO,CACRlN,MACAC,MACAC,KAAM,GACNC,SAAU,QAKtBgM,KAAK6B,SAAS,CAAEb,U,+BAiBV,IAAD,OAEDhF,EACAgE,KAAKzB,MADLvC,QAEJ,OACI,kBAAC,IAAM8F,SAAP,KACI,yBAAKC,IAAK,SAAAC,GAAE,OAAI,EAAKR,aAAeQ,GAAI9F,UAAYF,EAAQgF,W,GAhFvDb,a,IA+FL8B,cATQ,SAAC9L,GACrB,MAAO,CACHxC,aAAcwC,EAAM7B,OAAOZ,OAAOC,aAClCD,OAAQyC,EAAM7B,OAAOZ,OACrBG,IAAKsC,EAAM7B,OAAOxB,WAAWO,MAAMN,KAAKmP,SACxCpO,IAAKqC,EAAM7B,OAAOxB,WAAWO,MAAMN,KAAKoP,aAIN,KAA1BF,CAAiC7B,cAtGlC,SAAAvF,GAAK,MAAK,CACrBmG,IAAK,CACDtF,OAAQ,4BACRC,OAAQ,QAmGoD,CAAE6E,WAAW,GAAhCJ,CAAwCU,K,oEC/FnFtF,GAAYC,cAAW,SAAAZ,GAAK,MAAK,CACnC0B,cAAe,CACXC,UAAW3B,EAAMgB,UACjBY,WAAY5B,EAAMgB,QAAQ,IAG9BuG,cAAe,CACXlH,WAAY,0BAEhB6B,MAAO,CACH/H,MAAO,aAyCYiI,IAAMC,MApCjC,SAAkBqB,GAEd,IAAMvC,EAAUR,KAGhB,OACI,kBAAC6G,GAAA,EAAD,CAAgBnG,UAAWF,EAAQoG,eAC/B,kBAACE,GAAA,EAAD,CACIC,WAAY,kBAAC,KAAD,MACZC,gBAAc,YACdpD,GAAE,aACF,kBAACqD,GAAA,EAAD,CAAYvG,UAAWF,EAAQe,OAA/B,gBAIJ,kBAAC2F,GAAA,EAAD,KACI,kBAACD,GAAA,EAAD,CAAYE,QAAO,QAAWzG,UAAWF,EAAQe,OAb/C,wHAkBV,kBAAC6F,GAAA,EAAD,CACIC,WAAS,EACT3G,UAAWF,EAAQ8G,SACnBH,QAAO,OACP3N,MAAK,UACL0I,QAAS,SAACC,GACNA,EAAEC,iBACF3E,OAAOrG,KAAP,2DAEJ,kBAAC,GAAD,CAAM4K,KAAI,WAAc,0BAAMtB,UAAWF,EAAQO,eAAzB,e,4BCpDlBd,cAAW,SAAAZ,GAAK,MAAK,MAI3B,kBAAC,GAAD,CAAM2C,KAAI,aAAgBxI,MAAK,YCK3C,IAAMwG,GAAYC,cAAW,SAAAZ,GAAK,MAAK,CACnC/H,WAAY,CACR8I,OAAQf,EAAMgB,UACdS,SAAU,KAEdC,cAAe,CACXE,WAAY5B,EAAMgB,QAAQ,IAE9BuG,cAAe,CACXlH,WAAY,0BAEhB6B,MAAO,CACH/H,MAAO,SAEX+N,UAAW,CACPC,WAAYnI,EAAMgB,QAAQ,IAE9BoH,UAAW,CACPD,WAAYnI,EAAMgB,QAAQ,MAE9BgB,KAAM,CACFC,SAAU,GAEdoG,QAAS,CACLzG,WAAY5B,EAAMgB,eAmF1B,IACemB,GADYC,IAAMC,MA/EjC,WAEI,IAAMlB,EAAUR,KACVrF,EAAQC,KAEVtD,EACAmJ,cAAY,SAAAzH,GAAK,OAAIA,EAAMF,UAD3BxB,WAGAF,EAGAE,EAHAF,KACAS,EAEAP,EAFAO,MAIJ,IAAKT,EACD,OAAO,KAdO,MAwBdS,EAAMN,KALNoQ,EAnBc,EAmBdA,GACAC,EApBc,EAoBdA,KAEAC,EAtBc,EAsBdA,aACAC,EAvBc,EAuBdA,WAGEC,EAAa,UAAMH,EAAN,aAAeE,EAAf,aAA8BD,GAG3CG,EAAQ,mFACJL,EADI,8GAE0BI,EAF1B,aAId,OACI,kBAACnG,GAAA,EAAD,CAAMlB,UAAWF,EAAQlJ,YACrB,kBAACuK,GAAA,EAAD,CACIC,MARD,UAUCC,OAAQ,kBAAC,GAAD,CACJC,KAAI,aACJxI,MAAK,YAETP,OACI,kBAACgJ,GAAA,EAAD,CACIC,QAAS,SAACC,GACNA,EAAEC,iBACFzH,EAAMa,SAAS,CAAEC,KAAM,8BAE3B,kBAAC,GAAD,CACIuG,KAAI,QACJxI,MAAK,eAIjB,kBAAC6I,GAAA,EAAD,KACA,yBAAK1B,wBAAyB,CAAEC,OAAQoH,MAG5C,kBAAC3F,GAAA,EAAD,KACA,kBAAC+E,GAAA,EAAD,CACID,QAAO,WACP3N,MAAK,UACL0I,QAAS,SAACC,GACNA,EAAEC,iBACFzH,EAAMa,SAAS,CAAEC,KAAM,iBACvBd,EAAMa,SAAS,CAAEC,KAAM,kBACvBgC,OAAOiB,aAAaC,QACpBlB,OAAOC,SAASoB,OAAhB,kBAAkC5H,KAAKC,UAE3C,kBAAC,GAAD,CAAM6K,KAAI,QAAWxI,MAAK,YAC1B,0BAAMkH,UAAWF,EAAQO,eAAzB,iB,UCrGVf,GAAYC,cAAW,SAAAZ,GAAK,MAAK,CACnC4I,KAAM,CACFC,gBAAiB,UAEjBC,UAAW,SAEfC,UAAW,CACPhI,OAAQ,QAEZsC,IAAK,CAEDtC,OAAQ,OACRU,SAAU,SAIH,SAASuH,KACpB,IAAM7H,EAAUR,KADW,EAKvBS,cAAY,SAAAzH,GAAK,OAAIA,EAAMF,UAF3B9B,EAHuB,EAGvBA,OACAM,EAJuB,EAIvBA,WAGA2E,EACAwE,cAAY,SAAAzH,GAAK,OAAIA,KADrBiD,QAEEqM,EAAatR,EAAOI,KACpBmR,EAAiBjR,EAAWF,KAC5BoR,EAAcvM,EAAQ7E,KAC5B,OACI,kBAAC,IAAMkP,SAAP,KACI,yBAAK5F,UAAWF,EAAQyH,MACpB,kBAACQ,GAAA,EAAD,CAAM1C,WAAS,GAEVuC,EACG,kBAACG,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1B,yBAAKnI,UAAWF,EAAQkC,KACpB,kBAAC,GAAD,QAEE,KAEb8F,GAAeD,EACZ,kBAACE,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1B,yBAAKnI,UAAWF,EAAQsI,MACpB,kBAAC,GAAD,MACA,kBAAC,GAAD,QAEE,MAIlB,kBAAC,GAAD,Q,wBC9CV9I,GAAYC,cAAW,SAAAZ,GAAK,MAAK,CACnCrI,OAAQ,CACJoJ,OAAQf,EAAMgB,UACdS,SAAU,KAEdC,cAAe,CACXC,UAAW3B,EAAMgB,UACjBY,WAAY5B,EAAMgB,QAAQ,IAG9BuG,cAAe,CACXlH,WAAY,0BAEhB2B,KAAM,CACFC,SAAU,GAEdC,MAAO,CACH/H,MAAO,aA0Ff,IACegI,GADYC,IAAMC,MA7EjC,WAEI,IAAMlB,EAAUR,KACVrF,EAAQC,KAHC,EAOX6F,cAAY,SAAAzH,GAAK,OAAIA,EAAMiD,WAF3B7E,EALW,EAKXA,KACAG,EANW,EAMXA,KAGJ,IAAKH,IAASG,EACV,OAAO,KAGX,IACMwR,EAAS,UAAMC,KAAKC,MAAyB,IAAlB1R,EAAK2R,KAAKxD,MAAe,IAAM,GAAjD,SACTyD,EAAa,UAxBvB,SAAsBC,GAClB,KAAOA,EAAM,GAAGA,GAAO,IACvB,KAAOA,GAAO,KAAKA,GAAO,IAC1B,IAAIC,EAAML,KAAKC,OAAOG,EAAM,OAAS,MAGrC,MAFU,CAAC,IAAK,MAAO,KAAM,MAAO,IAAK,MAAO,KAC5C,MAAO,IAAK,MAAO,KAAM,MAAO,IAAK,MAAO,KAAM,OAC3CJ,KAAKM,IAAID,IAkBKE,CAAahS,EAAK2R,KAAKM,MAC1CC,EAAW,UAAMT,KAAKC,MAAkC,IAA3B1R,EAAKiI,KAAKkK,KAAO,SAAgB,GAAnD,UACXC,EAAQ,UAAMpS,EAAKiI,KAAKmK,SAAhB,MACRC,EAAQ,UAAMrS,EAAK0E,QAAQ,GAAGuD,KAAtB,aAA+BjI,EAAK0E,QAAQ,GAAG4N,YAA/C,KACR5G,EAAW,2CAAuC1L,EAAK0E,QAAQ,GAAG+F,KAAvD,QACX8H,EAAUC,KAA0B,IAAnBxS,EAAKyS,IAAIF,SAAgBG,UAC1CC,EAASH,KAAyB,IAAlBxS,EAAKyS,IAAIE,QAAeD,UAE9C,OACI,kBAACrI,GAAA,EAAD,CAAMlB,UAAWF,EAAQxJ,QACrB,kBAAC6K,GAAA,EAAD,CACIC,MAbD,UAcCC,OAAQ,kBAAC,IAAMuE,SAAP,KAMI,kBAACpD,GAAA,EAAD,CAAQT,IAAKQ,EAAaT,IAAKoH,KAE3C3Q,OACI,kBAACgJ,GAAA,EAAD,CACIC,QAAS,SAACC,GACNA,EAAEC,iBACFzH,EAAMa,SAAS,CAAEC,KAAM,oBAE3B,kBAAC,GAAD,CACIuG,KAAI,QACJxI,MAAK,eAKrB,kBAAC6I,GAAA,EAAD,KAEI,kBAAC4E,GAAA,EAAD,CAAYE,QAAO,MACdyC,GAEL,kBAAC3C,GAAA,EAAD,CAAYE,QAAO,MAAnB,eACiBsC,GAEjB,kBAACxC,GAAA,EAAD,CAAYE,QAAO,SAAnB,YACcwC,GAId,kBAAC1C,GAAA,EAAD,CAAYE,QAAO,SAAnB,QACU4B,EADV,UAC4BI,GAG5B,kBAAClC,GAAA,EAAD,CAAYE,QAAO,SAAnB,YACc2C,GAGd,kBAAC7C,GAAA,EAAD,CAAYE,QAAO,SAAnB,gBACkB+C,Q,IC1G5BC,G,8MACFnR,MAAQ,CAAEoR,MAAO,M,EAajBjU,KAAO,WACH,IAAMwE,EAAQC,KACdD,EAAMa,SAAS,CAAEC,KAAK,gBAFb,MAWL,EAAKsH,MAPLrK,EAJK,EAILA,OACAd,EALK,EAKLA,YACAC,EANK,EAMLA,MACAI,EAPK,EAOLA,MACAoS,EARK,EAQLA,kBACA1R,EATK,EASLA,gBACA2R,EAVK,EAULA,mBAEEC,EAAuBR,KAAOM,GAAmBJ,UAUvD,OARIvR,IAAW4R,GACX5P,EAAiB9C,GAGjBK,EAAQ,KAAO,GACf0C,EAAMa,SAAS,CAAEC,KAAK,yBAGlBxD,GACJ,KAAK,EACD0C,EAAMa,SAAS,CACXC,KAAK,cAAgBlC,IAAK,CACtBE,QAAQ,2BACRD,MAAM,WAGd,MAEJ,KAAK,EACDmB,EAAMa,SAAS,CACXC,KAAK,cAAgBlC,IAAK,CACtBE,QAAQ,6BACRD,MAAM,WAGdmB,EAAMa,SAAS,CACXC,KAAK,cAAgBlC,IAAK,CACtBE,QAAQ,sCACRD,MAAM,cASjBd,GAAUT,EAAQ,IACnB0C,EAAMa,SAAS,CAAEC,KAAK,yBAElB5D,GAASD,IACJe,IACDgC,EAAMa,SAAS,CAAEC,KAAK,6BAA+BxD,UACrD0C,EAAMa,SAAS,CACXC,KAAK,cAAgBlC,IAAK,CACtBE,QAAQ,4EAAD,OAC+B8Q,EAD/B,wFAEmC3S,EAFnC,+EAG0BC,EAAMN,KAAKoQ,GAHrC,oFAI+B9P,EAAMN,KAAKmP,SAJ1C,oFAKgC7O,EAAMN,KAAKoP,UAL3C,oFAMgC9O,EAAMN,KAAKiT,QAN3C,iFAO4B3S,EAAMN,KAAKqQ,KAPvC,kFAQ6B/P,EAAMN,KAAKuQ,WARxC,oFAS+BjQ,EAAMN,KAAKsQ,aAT1C,gDAWPrO,MAAM,WAIdvB,IAAUU,EAAkB,GAC5BgC,EAAMa,SAAS,CACXC,KAAK,cAAgBlC,IAAK,CACtBE,QAAQ,mBACRD,MAAM,aAIdvB,IAAUU,EAAkB,GAC5BgC,EAAMa,SAAS,CAAEC,KAAK,mB,EAMtCgP,WAAa,WAAO,IACTzS,EAAa,EAAK+K,MAAlB/K,UAGH,EAAKgB,MADLoR,OAGA,EAAK/D,SAAS,CAAE+D,MAAOM,YAAY,EAAKvU,KAAkB,IAAZ6B,M,EAItD2S,UAAY,WAAO,IAEXP,EACA,EAAKpR,MADLoR,MAEAA,IACAQ,cAAcR,GACd,EAAK/D,SAAS,CAAE+D,MAAO,S,qFAnHbxP,KACRY,SAAS,CAAEC,KAAK,qBACtB+I,KAAKiG,azBOoB,WAC7B,IAAM9P,EAAQC,KACdiQ,IAAaC,aAAa9P,MAAK,SAAU3B,GACrC,IAAM0R,EAAS1R,EAAWmM,KAAI,SAAUwF,GACpC,OAAOA,EAAU7R,SAEjBvB,EAAciT,IAAaI,WAAWF,EAAOG,KAAK,IAAK,IACzD5R,EAAY6R,IAAgB9R,EAAW+R,MAAK,SAAAC,GAAC,MAAc,cAAVA,EAAE/O,OAAqBnD,OAC5EwB,EAAMa,SAAS,CAAEC,KAAM,yBAA0B7D,cAAayB,aAAYC,iByBdxEgS,GpBPoB,WAE1B,IAAIC,GAAiB,EACf5Q,EAAQC,KACNqB,EAAYtB,EAAM6Q,WAAlBvP,QASR,GARKA,EAAQ1E,MAAS0E,EAAQD,WAAYuP,GAAiB,GACxCrU,KAAKC,MAAQ8E,EAAQhF,QAGvB,OACfsU,GAAiB,GAGfA,EAAgB,CAElB5Q,EAAMa,SAAS,CACbC,KAAK,uBACLU,MAAM,IAIRsP,IACG1Q,IADH,UAFa,4CAEb,OADc,0CACd,kBACsChB,qCACnCiB,MAAK,SAAU0Q,GACd/Q,EAAMa,SAAS,CACbC,KAAK,eACLlE,KAAMmU,EAASnU,UAGlB8D,OAAM,SAAUC,GACfX,EAAMa,SAAS,CACbC,KAAK,gBACLH,aAGHC,SAAQ,WACPZ,EAAMa,SAAS,CACbC,KAAK,uBACLU,MAAM,QoB9BRwP,GzBiBqB,WAE3B,IAAMhR,EAAQC,KACN/C,EAAU8C,EAAM6Q,WAAW1S,OAAOxB,WAAlCO,MACJ0T,GAAiB,EAChB1T,EAAMN,OAAQgU,GAAiB,GAC/B1T,EAAMC,YAAayT,GAAiB,GACjB,OAApB1T,EAAMC,WAAqC,OAAfD,EAAMN,MAChCL,KAAKC,MAAQU,EAAMC,UAAY,MACjCyT,GAAiB,GAGjBA,GAEFE,IACG1Q,IADH,oDACoDhB,qCACjDiB,MAAK,SAAU0Q,GACd/Q,EAAMa,SAAS,CACbC,KAAM,mBACN5D,MAAO6T,EAASnU,UAGnB8D,OAAM,SAAUC,GACfX,EAAMa,SAAS,CACbC,KAAM,qBACNH,ayBzCFyM,K,6CAGqBvD,KAAKmG,c,+BAgH1B,OAAO,S,GA5HShG,aAoJR8B,iBApBQ,SAAC9L,GACrB,MAAO,CACHhC,gBAAiBgC,EAAM7B,OAAO9C,KAAK2C,gBACnCD,OAAQiC,EAAM7B,OAAO9C,KAAK0C,OAE1BV,UAAW2C,EAAM7B,OAAOf,UAAUC,UAClCC,MAAO0C,EAAM7B,OAAOf,UAAUE,MAE9BL,YAAa+C,EAAM7B,OAAOxB,WAAWM,YAAYuB,MACjDE,WAAYsB,EAAM7B,OAAOxB,WAAWM,YAAYyB,WAChDxB,MAAO8C,EAAM7B,OAAOxB,WAAWO,MAC/BwS,kBAAmB1P,EAAM7B,OAAOxB,WAAWI,QAC3CD,OAAQkD,EAAM7B,OAAOxB,WAAWG,OAEhC6S,mBAAoB3P,EAAMf,SAAShC,YAAY8D,WAMd,KAAzB+K,CAA+B0D,I,UC/J/C,0CAeAjL,QAAQC,IAAR,UACKJ,EAAY6M,KADjB,YACyB7M,EAAYC,QADrC,aACiDjF,OADjD,MAWA,IAAM8R,GAAiBzP,KACjBxB,GAAW,WACf,OAAOiR,GAAelR,OAIxBmR,IAASC,OACP,kBAAC,KAAD,CAAUpR,MAAOkR,GAAelR,OAC9B,kBAAC,KAAD,CAAaqR,QAAS,KAAM3O,UAAWwO,GAAexO,WACpD,kBAAC,IAAMiJ,SAAP,KACE,kBAAC,GAAD,MACA,kBAAC2F,GAAA,EAAD,MACA,mBC7BO,WAAyB,IAKhCC,EAAS,KAOb,OAHIA,EANAzL,cAAY,SAAAzH,GAAK,OAAIA,EAAMF,UAD3B9C,KAIM0C,OAGG,kBAAC2P,GAAD,MAFA,kBAAC9H,GAAD,MAMT,kBAAC,IAAM+F,SAAP,KACI,kBAAC,KAAD,CAAkBjH,MAAO8M,aAAeC,KACnCF,MDcT,SAING,SAASC,eAAe,SlBhCnB,SAAkBvO,GACvB,GAA6C,kBAAmBC,UAAW,CAEzE,GADkB,IAAIuO,IAAIxS,GAAwB0D,OAAOC,SAAS8O,MACpDC,SAAWhP,OAAOC,SAAS+O,OACvC,OAGFhP,OAAOiP,iBAAiB,QAAQ,WAC9B,IAAM5O,EAAK,UAAM/D,GAAN,sBAEPwD,KAqDV,SAAiCO,EAAOC,GACtC4O,MAAM7O,GACH9C,MAAK,SAAA0Q,GACJ,IAAMkB,EAAclB,EAASmB,QAAQ9R,IAAI,gBAEnB,MAApB2Q,EAAShS,QACO,MAAfkT,IAA8D,IAAvCA,EAAYE,QAAQ,cAE5C9O,UAAUC,cAAcW,MAAM5D,MAAK,SAAAmD,GACjCA,EAAaU,aAAa7D,MAAK,WAC7ByC,OAAOC,SAASqP,eAIpBlP,GAAgBC,EAAOC,MAG1B1C,OAAM,WACL6D,QAAQC,IACN,oEAvEA6N,CAAwBlP,EAAOC,GAC/BC,UAAUC,cAAcW,MAAM5D,MAAK,WACjCkE,QAAQC,IACN,iHAKJtB,GAAgBC,EAAOC,OkBgB/BE,I","file":"static/js/main.1d4f435b.chunk.js","sourcesContent":["import axios from \"axios\";\nimport Fingerprint2 from \"fingerprintjs2\";\nimport { createAction } from \"@reduxjs/toolkit\";\nimport { getStore } from \"../../\";\nimport userAgentParser from 'ua-parser-js';\n\nexport const boot = createAction(\"SYSTEM/BOOT\");\nexport const reset = createAction(\"SYSTEM/RESET\");\nexport const tick = createAction(\"SYSTEM/TICK\");\nexport const systemSays = createAction(\"SYSTEM/SAYS\");\nexport const setFingerprint = createAction(\"SYSTEM/SET/FINGERPRINT\");\nexport const setIpgeo = createAction(\"SYSTEM/SET/IPGEO\");\nexport const ipgeoError = createAction(\"SYSTEM/IPGEO/ERROR\");\nexport const showUserAtTick = createAction(\"SYSTEM/BOOT/SHOWUSERATTICK\");\nexport const newVisit = createAction(\"SYSTEM/NEW/VISIT\");\n\nexport const updateCamera = createAction(\"SYSTEM/CAMERA/UPDATE\");\nexport const openCamera = createAction(\"SYSTEM/CAMERA/OPEN\");\nexport const closeCamera = createAction(\"SYSTEM/CAMERA/CLOSE\");\n\nexport const openUserEntity = createAction(\"SYSTEM/USERENTITY/OPEN\");\nexport const closeUserEntity = createAction(\"SYSTEM/USERENTITY/CLOSE\");\nexport const mapComplete = createAction(\"SYSTEM/USERENTITY/MAP_COMPLETE\");\n\nexport const createFingerprint = () => {\n    const store = getStore();\n    Fingerprint2.getPromise().then(function (components) {\n        const values = components.map(function (component) {\n            return component.value;\n        });\n      const fingerprint = Fingerprint2.x64hash128(values.join(\"\"), 31);\n      let userAgent = userAgentParser(components.find(o => o.key === 'userAgent').value);\n      store.dispatch({ type: \"SYSTEM/SET/FINGERPRINT\", fingerprint, components, userAgent });\n    });\n};\n\nexport const ipgeolocation = () => {\n  \n  const store = getStore();\n  const { ipgeo } = store.getState().system.userEntity;\n  let updateRequired = false;\n  if (!ipgeo.data) { updateRequired = true }\n  if (!ipgeo.lastFetch) { updateRequired = true }\n  if (ipgeo.lastFetch !== null && ipgeo.data !== null) {\n    if (Date.now() - ipgeo.lastFetch > 10000) {\n      updateRequired = true;\n    }\n  }\n  if (updateRequired) {\n    // console.log('Fetch IPGEO')\n    axios\n      .get(`https://api.ipgeolocation.io/ipgeo?apiKey=${process.env.REACT_APP_IPGEO}`)\n      .then(function (response) {\n        store.dispatch({\n          type: \"SYSTEM/SET/IPGEO\",\n          ipgeo: response.data\n        });\n      })\n      .catch(function (error) {\n        store.dispatch({\n          type: \"SYSTEM/IPGEO/ERROR\",\n          error\n        });\n      });\n  }\n};","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  boot,\n  reset,\n  newVisit,\n  setFingerprint,\n  systemSays,\n  setIpgeo,\n  showUserAtTick,\n  tick,\n  updateCamera,\n  openUserEntity,\n  closeUserEntity,\n  mapComplete,\n  openCamera,\n  closeCamera,\n} from \"./actions\";\n\nexport const systemSlice = {\n\n  camera: {\n    updated: Date.now(),\n    open: true,\n    currentPhoto: null,\n  },\n\n  userEntity: {\n    updated: Date.now(),\n    open: true,\n    data: null,\n    errors: [],\n    visits: 0,\n    created: null,\n    lastVisit: null,\n    fingerprint: {\n      data: {},\n    },\n    ipgeo: {\n      lastFetch: 0,\n      data: {},\n    }\n  },\n  clockWork: {\n    tickDelay: 0.5,\n    ticks: 0,\n  },\n  mapbox: {\n    updated: Date.now(),\n    userLocation: null,\n    mapboxStyle: `mapbox://styles/listingslab/ck4c1er100to21co6sd5kl563`,\n    lat: 0,\n    lng: 0,\n    zoom: 1,\n    flySpeed: 0.5,\n    hasZoomed: false\n  },\n  boot: {\n    updated: Date.now(),\n    open: true,\n    booted: false,\n    userShownAtTick: null,\n    consoleMessage: ``,\n    cursorOn: true,\n  },\n};\n\nconst system = createReducer(systemSlice, {\n\n  [openUserEntity]: (state) => {\n    state.userEntity.open = true;\n    return state;\n  }, \n\n  [closeUserEntity]: (state) => {\n    state.userEntity.open = false;\n    return state;\n  }, \n\n  [newVisit]: (state) => {\n    state.userEntity.visits = state.userEntity.visits + 1;\n    return state;\n  }, \n    \n  [updateCamera]: (state) => {\n    if (state.camera) {\n      state.camera.updated = Date.now();\n      state.camera.currentPhoto = `https://pijs.app/jpg/current-photo.jpg?cb=${Date.now()}`;\n    }\n    \n    return state;\n  }, \n\n  [showUserAtTick]: (state, action) => {\n    state.boot.userShownAtTick = action.ticks;\n    return state;\n  },\n\n  [setIpgeo]: (state, action) => {\n    state.userEntity.ipgeo.data = action.ipgeo;\n    state.userEntity.ipgeo.lastFetch = Date.now();\n    return state;\n  },\n\n  [setFingerprint]: (state, action) => {\n    const oldFingerprint = state.userEntity.fingerprint.value\n    let newFingerprint = {\n      updated: Date.now(),\n      value: action.fingerprint,\n      oldFingerprint,\n      components: action.components,\n      userAgent: action.userAgent,\n    }\n    if (!oldFingerprint) {\n      state.userEntity.created = Date.now();\n    }\n    state.userEntity.fingerprint = newFingerprint;\n    return state;\n  },\n\n  [systemSays]: (state, action) => {\n    state.boot.consoleMessage += ` <span style=\"color: ${action.say.color};\">${action.say.message}</span>`;\n    return state;\n  },\n\n  [tick]: (state) => {\n    state.clockWork.ticks++;\n    state.boot.cursorOn = !state.boot.cursorOn;\n    return state;\n  },\n\n  [boot]: (state) => {\n    state.boot.booted = true;\n    state.boot.status = 'booted';\n    return state;\n  },\n  \n  [mapComplete]: (state, action) => {\n    state.mapbox.updated = Date.now();\n    state.mapbox.userLocation = action.userLocation;\n    return state;\n  },\n\n  [openCamera]: (state) => {\n    state.camera.updated = Date.now();\n    state.camera.open = true;\n    return state;\n  },\n\n  [closeCamera]: (state) => {\n    state.camera.updated = Date.now();\n    state.camera.open = false;\n    return state;\n  },\n  \n  [reset]: () => {\n    return systemSlice;\n  }, \n\n});\n\nexport { system };\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\n\nvar config = {\n    apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\n    authDomain: process.env.REACT_APP_FIREBASE_AUTHDOMAIN,\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASEURL,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECTID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGEBUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGESENDERID,\n    appId: process.env.REACT_APP_FIREBASE_APPID,\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n};\nconst fire = firebase.initializeApp(config);\nexport default fire;\n\nconst db = fire.firestore();\nexport { db };\n","import { createAction } from \"@reduxjs/toolkit\";\nimport { getStore } from \"../../\";\nimport { db } from '../../fire';\n\nexport const reset = createAction(\"FIREBASE/RESET\");\nexport const setChecked = createAction(\"FIREBASE/FINGERPRINT/SET\");\n\nexport const checkFingerprint = (fingerprint) => {\n  // console.log(fingerprint)\n  const store = getStore();\n  db.collection(`userEntities`).where(`fingerprint`, \"==\", `loremipsum`)\n    .get()\n    .then(function (querySnapshot) {\n      if (querySnapshot.empty) {\n        // console.log ('fingerprint doesnt exist')\n      }\n      querySnapshot.forEach(function (doc) {\n        // console.log(doc.id, \" => \", doc.data());\n      });\n    })\n    .catch(function (error) {\n      // console.log(\"Error getting documents: \", error);\n    })\n    .finally(function () {\n      store.dispatch({ type: \"FIREBASE/FINGERPRINT/SET\", checked: true });\n    })\n\n};\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  setChecked,\n  reset,\n} from \"./actions\";\n\nexport const firebaseSlice = {\n  fingerprint: {\n    updated: Date.now(),\n    checked: false,\n  },\n};\n\nconst firebase = createReducer(firebaseSlice, {\n\n  [setChecked]: (state, action) => {\n    // console.log('check complete');\n    state.fingerprint.updated = Date.now();\n    state.fingerprint.checked = action.checked;\n    return state;\n  }, \n  \n  [reset]: () => {\n    return firebaseSlice;\n  }, \n\n});\n\nexport { firebase };\n","import { createAction } from '@reduxjs/toolkit';\nimport { getStore } from \"../../\";\nimport axios from \"axios\";\n\nexport const toggleFetching = createAction(`WEATHER/TOGGLE_FETCH`);\nexport const reset = createAction(`WEATHER/RESET`);\nexport const save = createAction(`WEATHER/SAVE`);\nexport const error = createAction(`WEATHER/ERROR`);\nexport const open = createAction(`WEATHER/OPEN`);\nexport const close = createAction(`WEATHER/CLOSE`);\n\nexport const fetchWeather = () => {\n  \n  let updateRequired = false;\n  const store = getStore();\n  const { weather } = store.getState();\n  if (!weather.data && !weather.fetching) { updateRequired = true }\n  const updatedAgo = Date.now() - weather.updated;\n\n  // 1 hour // 3600000\n  if (updatedAgo > 3600000) {\n    updateRequired = true\n  }\n\n  if (updateRequired) {\n    // console.log('WEATHER/FETCH');\n    store.dispatch({\n      type: `WEATHER/TOGGLE_FETCH`,\n      bool: true,\n    });\n    const baseUrl = `https://api.openweathermap.org/data/2.5/`;\n    const endPoint = `weather?lat=-27.211579&l&lon=153.107658`;\n    axios\n      .get(`${baseUrl}${endPoint}&APPID=${process.env.REACT_APP_OPEN_WEATHER}`)\n      .then(function (response) {\n        store.dispatch({\n          type: `WEATHER/SAVE`,\n          data: response.data\n        });\n      })\n      .catch(function (error) {\n        store.dispatch({\n          type: `WEATHER/ERROR`,\n          error\n        });\n      })\n      .finally(function () {\n        store.dispatch({\n          type: `WEATHER/TOGGLE_FETCH`,\n          bool: false,\n        });\n      });\n  }\n  \n  \n  //\n  // \n  // if (!ipgeo.lastFetch) { updateRequired = true }\n  // if (ipgeo.lastFetch !== null && ipgeo.data !== null) {\n  //   if (Date.now() - ipgeo.lastFetch > 10000) {\n  //     updateRequired = true;\n  //   }\n  // }\n  // if (updateRequired) {\n  //   console.log('REACT_APP_OPEN_WEATHER')\n  //   axios\n  //     .get(`https://api.openweathermap.org/data/2.5/weather?lat=35&lon=139?APPID=${process.env.REACT_APP_OPEN_WEATHER}`)\n  //     .then(function (response) {\n  //       store.dispatch({\n  //         type: `WEATHER/SAVE`,\n  //         ipgeo: response.data\n  //       });\n  //     })\n  //     .catch(function (error) {\n  //       store.dispatch({\n  //         type: `WEATHER/ERROR`,\n  //         error\n  //       });\n  //     });\n  // }\n};\n\n// export const checkFingerprint = (fingerprint) => {\n  // console.log(fingerprint)\n  // const store = getStore();\n// };\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  error,\n  reset,\n  save,\n  toggleFetching,\n  open,\n  close,\n} from \"./actions\";\n\nexport const weatherSlice = {\n  updated: Date.now(),\n  fetching: false,\n  open: true,\n  data: null,\n  errors: [],    \n};\n\nconst weather = createReducer(weatherSlice, {\n\n  [error]: (state, action) => {\n    // console.log('error', action.error);\n    state.updated = Date.now();\n    state.errors.push(action.error);\n    return state;\n  }, \n\n  [save]: (state, action) => {\n    // console.log('save', action.data);\n    state.updated = Date.now();\n    state.data = action.data;\n    return state;\n  }, \n\n  [toggleFetching]: (state, action) => {\n    // console.log('fetching', action.bool);\n    state.updated = Date.now();\n    state.fetching = action.bool;\n    return state;\n  }, \n\n  [close]: (state) => {\n    state.updated = Date.now();\n    state.open = false;\n    return state;\n  },\n\n  [open]: (state) => {\n    state.updated = Date.now();\n    state.open = true;\n    return state;\n  },\n  \n  [reset]: () => {\n    return weatherSlice;\n  }, \n\n});\n\nexport { weather };\n\n/*\n  [openWeather]: (state) => {\n    state.weather.updated = Date.now();\n    state.weather.open = true;\n    return state;\n  },\n\n\n\n  [updateWeather]: (state) => {\n    state.weather.updated = Date.now();\n    return state;\n  },\n*/","import storage from \"redux-persist/lib/storage\";\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport { combineReducers } from \"redux\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport { reduxBatch } from \"@manaflair/redux-batch\";\nimport { system, systemSlice } from \"./system/reducer\";\nimport { firebase, firebaseSlice } from \"./firebase/reducer\";\nimport { weather, weatherSlice } from \"./weather/reducer\";\n\nconst initRedux = () => {\n  const persistConfig = {\n    key: \"pijs\",\n    storage\n  };\n\n  const reducers = combineReducers({\n    system,\n    firebase,\n    weather,\n  });\n\n  const persistedReducer = persistReducer(persistConfig, reducers);\n\n  const preloadedState = {\n    system: systemSlice,\n    firebase: firebaseSlice,\n    weather: weatherSlice,\n  };\n\n  const middleware = [\n    ...getDefaultMiddleware({\n      serializableCheck: false\n    })\n  ];\n\n  const store = configureStore({\n    reducer: persistedReducer,\n    middleware,\n    devTools: process.env.NODE_ENV !== \"production\",\n    preloadedState,\n    enhancers: [reduxBatch]\n  });\n\n  const persistor = persistStore(store);\n\n  return { store, persistor };\n};\n\nexport default initRedux;\n","import packageJSON from \"../package.json\";\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    window.location.hostname === \"[::1]\" ||\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl, config);\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // eslint-disable-next-line\n              const update = confirm(\"Update available. Do it now?\");\n              if (update === true) {\n                window.localStorage.clear();\n                unregister();\n                window.location.assign(\"/?upgrade-from=\" + packageJSON.version);\n              }\n\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              console.log(\"Progressive Web App Enabled\");\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  fetch(swUrl)\n    .then(response => {\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const theme = {\n    palette: {\n        type: 'dark',\n        primary: {\n            main: 'rgba(241,221,63,0.9)',\n            // main: '#F1DD3F',\n        },\n        secondary: {\n            main: '#212121',\n        },\n        background: {\n            default: \"#F1DD3F\",\n            paper: \"#212121\",\n            appBar: \"#F1DD3F\",\n            contentFrame: \"#F1DD3F\"\n        },\n        text: {\n            primary: \"rgba(241,221,63,0.9)\",\n            secondary: \"#212121\",\n        },\n    }\n}\n\nexport default theme;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n    boot: {\n        background: '#212121',\n        border: '1px solid #212121',\n        height: '100vh',\n    },\n    message: {\n        margin: theme.spacing(1),\n        fontSize: '1rem',\n        color: 'white',\n    },\n}));\n\nexport default function Boot() {\n    const classes = useStyles();\n    const {\n        boot,\n    } = useSelector(state => state.system);\n    const { consoleMessage } = boot;\n    const {\n        cursorOn,\n        // command,\n    } = boot;\n    const createMarkup = () => {\n        let message = consoleMessage;\n        // message = command ? `${message} ${command}` : message;\n        message = cursorOn ? `${message} _` : message;\n        return { __html: message};\n    };\n    return (\n        <div className={classes.boot}>\n            <div\n                className={classes.message}\n                dangerouslySetInnerHTML={createMarkup()} />\n        </div>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport { getStore } from '../';\nimport {\n    Card,\n    CardContent,\n    CardHeader,\n    IconButton,\n} from '@material-ui/core/';\nimport {\n    Icon,\n} from './';\n\nconst useStyles = makeStyles(theme => ({\n    camera: {\n        margin: theme.spacing(),\n        maxWidth: 800,\n    },\n    iconBtnSpacer: {\n        marginTop: theme.spacing(),\n        marginLeft: theme.spacing(2),\n    },\n    cameraImage: {\n        border: '1px solid rgba(241,221,63,0.75)',\n        borderRadius: theme.spacing(),\n        maxWidth: '100%',\n        maxHeight: 450,\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    white: {\n        color: 'white',\n    },\n}));\n\n\nfunction Camera() {\n    \n    const classes = useStyles();\n    const store = getStore();\n    const {\n        open,\n        currentPhoto,\n    } = useSelector(state => state.system.camera);\n\n    if (!open) { return null }\n\n    let showThis;\n    if (currentPhoto) {\n        showThis = currentPhoto\n    } else {\n        showThis = `/jpg/pi4.jpg`;\n    }\n    // showThis = `/jpg/pi4.jpg`;\n    const title = `Camera`;\n    // const subheader = <span style={{ color: 'white' }}>Scarborough, Queensland</span>;\n    \n    return (\n        <Card className={classes.camera}>\n            <CardHeader\n                title={title}\n                // subheader={subheader}\n                avatar={<Icon\n                            icon={`camera`}\n                            color={`primary`} />}\n                action={\n                    <IconButton\n                        onClick={(e) => {\n                            e.preventDefault();\n                            store.dispatch({ type: \"SYSTEM/CAMERA/CLOSE\" });\n                        }}>\n                        <Icon\n                            icon={`close`}\n                            color={`primary`}\n                        />\n                    </IconButton>\n                } />\n            <CardContent>\n                <img\n                    onError={(e) => { \n                        alert ('image error', e)\n                    }}\n                    className={classes.cameraImage}\n                    alt={`camera`}\n                    src={showThis} />\n            </CardContent>\n        </Card>\n    );\n}\n\nconst MemodFuncComponent = React.memo(Camera);\nexport default MemodFuncComponent;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport { getStore } from '../';\nimport {\n    Avatar,\n    AppBar,\n    Toolbar,\n    IconButton,\n    Tooltip,\n} from '@material-ui/core/';\nimport {\n    Icon,\n    Logo,\n} from './';\n\nconst useStyles = makeStyles(theme => ({\n    grow: {\n        flexGrow: 1,\n    },\n    appBar: {\n        top: 'auto',\n        bottom: 0,\n    },\n    center: {\n    },\n    constrain: {\n        // border: '1px solid yellow',\n        padding: theme.spacing(),\n    }\n}));\n\nfunction Dock(props) {\n    \n    const classes = useStyles();\n    const store = getStore();\n    // const {\n    //     system,\n    // } = useSelector(state => state);\n    const {\n        data,\n    } = useSelector(state => state.weather);\n\n    let weatherIcon = <Icon\n        icon={`weather`}\n        color={`inherit`} />;\n    \n    const outlookIcon = `https://openweathermap.org/img/w/${data.weather[0].icon}.png`;\n    if (outlookIcon) {\n        weatherIcon = <Avatar src={outlookIcon} alt={`weather`}/>;\n    }\n    // const userEntityOpen = system.userEntity.open;\n    // const cameraOpen = system.camera.open;\n    // const weatherOpen = weather.open;\n\n    return (\n        <AppBar\n            className={classes.appBar}\n            color={`secondary`}\n            position={`fixed`}>\n            <div className={classes.center}>\n            <Toolbar className={classes.constrain}>\n                \n                <div className={classes.grow} />\n                <Tooltip title={`Camera`}>\n                    <IconButton\n                        // disabled={cameraOpen}\n                        edge={`start`}\n                        color={`inherit`}\n                        aria-label={`Camera`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            store.dispatch({ type: `SYSTEM/CAMERA/OPEN` });\n                        }}>\n                        <Icon\n                            icon={`camera`}\n                            color={`inherit`} />\n                    </IconButton>\n                </Tooltip>\n\n                <Tooltip title={`Weather`}>\n                    <IconButton\n                        // disabled={weatherOpen}\n                        edge={`start`}\n                        color={`inherit`}\n                        aria-label={`Weather`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            store.dispatch({ type: `WEATHER/OPEN` });\n                        }}>\n                        {weatherIcon}\n                    </IconButton>\n                </Tooltip>\n                \n                <Tooltip title={`Privacy`}>\n                    <IconButton\n                        // disabled={userEntityOpen}\n                        edge={`start`}\n                        color={`inherit`}\n                        aria-label={`Privacy`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            store.dispatch({ type: `SYSTEM/USERENTITY/OPEN` });\n                        }}>\n                        <Icon\n                            icon={`userentity`}\n                            color={`inherit`} />\n                    </IconButton>\n                    </Tooltip>\n                    \n                    <Logo />\n                \n                </Toolbar>\n            </div>\n        </AppBar>\n    );\n}\n\nconst MemodFuncComponent = React.memo(Dock);\nexport default MemodFuncComponent;\n","import React from \"react\";\n\nconst GithubSVG = props => {\n    const { color } = props;\n    let c = `#FFFFFF`;\n    if (color) {\n        if (color) {\n            c = color;\n        }\n    }\n    return (\n        <svg\n            {...props}\n            viewBox=\"0 0 496 484\"\n        >\n            <g id=\"githubIcon\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                <g fill={c}>\n                    <g id=\"github\">\n                        <path d=\"M165.9,389.4 C165.9,391.4 163.6,393 160.7,393 C157.4,393.3 155.1,391.7 155.1,389.4 C155.1,387.4 157.4,385.8 160.3,385.8 C163.3,385.5 165.9,387.1 165.9,389.4 Z M134.8,384.9 C134.1,386.9 136.1,389.2 139.1,389.8 C141.7,390.8 144.7,389.8 145.3,387.8 C145.9,385.8 144,383.5 141,382.6 C138.4,381.9 135.5,382.9 134.8,384.9 Z M179,383.2 C176.1,383.9 174.1,385.8 174.4,388.1 C174.7,390.1 177.3,391.4 180.3,390.7 C183.2,390 185.2,388.1 184.9,386.1 C184.6,384.2 181.9,382.9 179,383.2 Z M244.8,0 C106.1,0 0,105.3 0,244 C0,354.9 69.8,449.8 169.5,483.2 C182.3,485.5 186.8,477.6 186.8,471.1 C186.8,464.9 186.5,430.7 186.5,409.7 C186.5,409.7 116.5,424.7 101.8,379.9 C101.8,379.9 90.4,350.8 74,343.3 C74,343.3 51.1,327.6 75.6,327.9 C75.6,327.9 100.5,329.9 114.2,353.7 C136.1,392.3 172.8,381.2 187.1,374.6 C189.4,358.6 195.9,347.5 203.1,340.9 C147.2,334.7 90.8,326.6 90.8,230.4 C90.8,202.9 98.4,189.1 114.4,171.5 C111.8,165 103.3,138.2 117,103.6 C137.9,97.1 186,130.6 186,130.6 C206,125 227.5,122.1 248.8,122.1 C270.1,122.1 291.6,125 311.6,130.6 C311.6,130.6 359.7,97 380.6,103.6 C394.3,138.3 385.8,165 383.2,171.5 C399.2,189.2 409,203 409,230.4 C409,326.9 350.1,334.6 294.2,340.9 C303.4,348.8 311.2,363.8 311.2,387.3 C311.2,421 310.9,462.7 310.9,470.9 C310.9,477.4 315.5,485.3 328.2,483 C428.2,449.8 496,354.9 496,244 C496,105.3 383.5,0 244.8,0 Z M97.2,344.9 C95.9,345.9 96.2,348.2 97.9,350.1 C99.5,351.7 101.8,352.4 103.1,351.1 C104.4,350.1 104.1,347.8 102.4,345.9 C100.8,344.3 98.5,343.6 97.2,344.9 Z M86.4,336.8 C85.7,338.1 86.7,339.7 88.7,340.7 C90.3,341.7 92.3,341.4 93,340 C93.7,338.7 92.7,337.1 90.7,336.1 C88.7,335.5 87.1,335.8 86.4,336.8 Z M118.8,372.4 C117.2,373.7 117.8,376.7 120.1,378.6 C122.4,380.9 125.3,381.2 126.6,379.6 C127.9,378.3 127.3,375.3 125.3,373.4 C123.1,371.1 120.1,370.8 118.8,372.4 Z M107.4,357.7 C105.8,358.7 105.8,361.3 107.4,363.6 C109,365.9 111.7,366.9 113,365.9 C114.6,364.6 114.6,362 113,359.7 C111.6,357.4 109,356.4 107.4,357.7 Z\" id=\"Shape\" fillRule=\"nonzero\"></path>\n                    </g>\n                </g>\n            </g>\n        </svg>\n    )\n};\n\nexport default GithubSVG;\n\n","import React from \"react\";\n\nconst PiJSSVG = props => (\n    <svg\n        {...props}\n        viewBox=\"0 0 239 304\"\n    >\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g transform=\"translate(-10.000000, 0.000000)\" fillRule=\"nonzero\">\n                <g>\n                    <path d=\"M74.8512742,0.004647875 C73.3103995,0.0520562 71.6511395,0.620026525 69.7681588,2.10083949 C65.1585852,0.328139975 60.6860401,-0.288168251 56.687969,3.32137147 C50.5142165,2.52286655 48.5081896,4.17100302 46.9878226,6.09522327 C45.6324494,6.06733602 36.8467605,4.70550865 32.8169956,10.6994083 C22.6917802,9.50490438 19.4916454,16.6384629 23.1177813,23.2914312 C21.0492991,26.4835918 18.9062436,29.6376398 23.7423342,35.7244968 C22.0318048,39.1137273 23.0926128,42.791126 27.1223775,47.2410015 C26.0597054,52.0069326 28.1496274,55.3682758 31.8997417,57.9887476 C31.1978186,64.5097162 37.8963822,68.3014527 39.895884,69.6521252 C40.6639909,73.4512981 42.2645242,77.0375986 49.914832,79.0194525 C51.1769883,84.6824233 55.7744438,85.6603362 60.2274132,86.8483332 C45.5112675,95.3790428 32.8915691,106.601802 32.9773286,134.140461 L30.8212226,137.974958 C13.9471066,148.20772 -1.23419123,181.097943 22.5062787,207.830659 C24.0564751,216.198694 26.6572255,222.209327 28.9727323,228.861365 C32.4357386,255.66659 55.0380307,268.218641 61.000181,269.703172 C69.735533,276.338478 79.0395077,282.634489 91.6312412,287.045323 C103.49868,299.251573 116.357013,303.904096 129.28526,303.896677 C129.475422,303.896677 155.644191,299.252502 167.513494,287.045323 C180.103363,282.634489 189.407337,276.338478 198.144554,269.703172 C204.10484,268.218641 226.707132,255.66659 230.170139,228.861365 C232.485646,222.209327 235.086396,216.198694 236.637524,207.830659 C260.37613,181.095154 245.195765,148.204001 228.32258,137.97124 L226.162746,134.136743 C226.248505,106.600872 213.628807,95.3771838 198.912661,86.8446148 C203.364699,85.656618 207.964019,84.6787051 209.22431,79.0157341 C216.874617,77.0329507 218.476084,73.4475799 219.243259,69.6484068 C221.243693,68.2977345 227.941324,64.505998 227.241265,57.9850293 C230.989514,55.3645574 233.080369,52.0022847 232.016765,47.2372832 C236.047461,42.7874078 237.107337,39.1100089 235.396809,35.7198489 C240.234763,29.6367101 238.087979,26.4826621 236.022294,23.2905015 C239.646564,16.6375333 236.448295,9.50304522 226.31935,10.6984787 C222.292381,4.70457907 213.507624,6.06547687 212.148523,6.09336413 C210.629088,4.17007345 208.623061,2.52193698 202.44931,3.32044189 C198.451237,-0.289097825 193.980556,0.326280825 189.369118,2.09990993 C183.893561,-2.2086702 180.271153,1.24470093 176.132326,2.5507538 C169.502742,0.3904215 167.986103,3.34925873 164.729106,4.55491749 C157.499207,3.03134407 155.302085,6.34806767 151.837215,9.84884713 L147.804653,9.76890367 C136.900145,16.1773937 131.482381,29.2267675 129.562114,35.9355104 C127.641846,29.225838 122.236201,16.1764641 111.333557,9.76890367 L107.301928,9.84884713 C103.831464,6.34806767 101.635275,3.03134407 94.405375,4.55491749 C91.1474456,3.34925873 89.6373326,0.3904215 83.0021564,2.5507538 C80.2858172,1.69368565 77.7876053,-0.08738005 74.8466134,0.0037183 L0,131.070075\" fill=\"#F1DD3F\"></path>\n                    <path d=\"M53.1410676,28.197728 C82.0718522,43.0718575 98.8909702,55.1042765 108.105457,65.3519113 C103.386819,84.2120585 78.770111,85.0728448 69.7690911,84.5439167 C71.6119884,83.6887078 73.1500665,82.6633865 73.6953853,81.089616 C71.4367407,79.4888879 63.4284803,80.9204333 57.837333,77.7886952 C59.9850495,77.3443582 60.9899272,76.9121059 61.9938728,75.3318285 C56.7122054,73.6520865 51.0222483,72.2038086 47.6757631,69.4206611 C49.4813736,69.4429708 51.1676666,69.8240966 53.5260532,68.1926925 C48.7952975,65.6503048 43.7466723,63.6349861 39.8241068,59.7484332 C42.2701173,59.6889402 44.9072223,59.7242641 45.6743971,58.8272242 C41.344474,56.1519074 37.690373,53.1772674 34.6664181,49.9228254 C38.0893412,50.3346272 39.5351346,49.9804591 40.3629004,49.3855311 C37.0891242,46.0418498 32.9465671,43.2187305 30.9713017,39.0988541 C33.5123934,39.9726546 35.838154,40.3073015 37.5141932,39.0226289 C36.402116,36.5202131 31.6368701,35.0440479 28.8925657,29.1960915 C31.5688218,29.4554431 34.4063431,29.7780055 34.9740337,29.1960915 C33.7323851,24.1503585 31.6014476,21.3132955 29.5115257,18.3739794 C35.2378375,18.2893881 43.9144627,18.3962893 43.5220197,17.9138399 L39.9807113,14.3061593 C45.5746551,12.8039661 51.2981703,14.5469192 55.4537778,15.8408876 C57.3190472,14.3730887 55.4202197,12.5167274 53.143864,10.6213239 C57.8979239,11.2543645 62.1933569,12.3438264 66.0767713,13.8450901 C68.1508464,11.9775739 64.7297877,10.1091281 63.0742562,8.24161195 C70.4188125,9.630397 73.5303913,11.5834341 76.6223947,13.5383303 C78.8661244,11.3938008 76.7510339,9.5709042 75.237192,7.7043176 C80.7752058,9.7493826 83.6276416,12.3903052 86.6301567,14.9968335 C87.6480848,13.6266399 89.2169246,12.6217693 87.3227579,9.31620065 C91.2546451,11.5759975 94.2161448,14.2392299 96.4067409,17.2231656 C98.839701,15.6782119 97.8562632,13.5662175 97.8693136,11.6187579 C101.955941,14.9336224 104.549234,18.4613595 107.723268,21.9054348 C108.362735,21.4406474 108.922037,19.8668768 109.417018,17.3765455 C119.164705,26.8070839 132.939361,50.5623729 112.957394,59.9808268 C95.9518427,45.9944414 75.6417533,35.8276796 53.1345423,28.2014464 L53.1410676,28.197728 M206.648728,28.197728 C177.721673,43.0737167 160.902554,55.1024173 151.689,65.3519113 C156.407637,84.2120585 181.023413,85.0728448 190.024434,84.5439167 C188.181536,83.6887078 186.643459,82.6633865 186.099072,81.089616 C188.357716,79.4888879 196.365976,80.9204333 201.956191,77.7886952 C199.808475,77.3443582 198.804529,76.9121059 197.799652,75.3318285 C203.082251,73.6520865 208.772208,72.2038086 212.117762,69.4206611 C210.31215,69.4429708 208.625858,69.8240966 206.267472,68.1926925 C210.999158,65.6503048 216.047784,63.6349861 219.970349,59.7484332 C217.523408,59.6889402 214.886303,59.7242641 214.120059,58.8272242 C218.449983,56.1519074 222.104084,53.1772674 225.128038,49.9228254 C221.704183,50.3346272 220.259323,49.9804591 219.431556,49.3855311 C222.704401,46.0418498 226.847889,43.2187305 228.823154,39.0988541 C226.281131,39.9726546 223.955371,40.3073015 222.279331,39.0226289 C223.391409,36.5202131 228.157587,35.0440479 230.900959,29.1960915 C228.225635,29.4554431 225.387181,29.7780055 224.819491,29.1960915 C226.063936,24.1484993 228.194873,21.3114365 230.284795,18.3721202 C224.558483,18.2875289 215.881859,18.3944301 216.274301,17.9119807 L219.815609,14.3033705 C214.221666,12.8021069 208.49815,14.54506 204.342544,15.8390284 C202.477274,14.3712295 204.375168,12.5148682 206.651525,10.6194648 C201.898398,11.2515758 197.602033,12.3419673 193.71955,13.8432309 C191.644543,11.9757147 195.066533,10.107269 196.722065,8.2397528 C189.377508,9.62853785 186.26593,11.5815749 183.172994,13.5364711 C180.929265,11.3919416 183.045287,9.56904505 184.559128,7.70245845 C179.021116,9.74752345 176.16868,12.388446 173.166164,14.9949743 C172.147304,13.6247808 170.579397,12.6199102 172.472631,9.31434149 C168.541676,11.5741383 165.580176,14.2373707 163.38958,17.2213065 C160.95662,15.6763528 161.940058,13.5634288 161.927008,11.6168988 C157.84038,14.9317632 155.247087,18.4585707 152.073053,21.9035758 C151.433586,21.4387882 150.874284,19.8650178 150.379303,17.3737567 C140.631616,26.8052247 126.85696,50.5605139 146.838926,59.9789678 C163.835157,45.988864 184.144313,35.8239613 206.652458,28.197728 L206.648728,28.197728\" fill=\"#333333\"></path>\n                    <path d=\"M130.459792,252.281532 C111.320506,252.374035 95.7234614,238.182214 95.6227871,220.58257 C95.6217781,220.470713 95.6217781,220.35885 95.6227871,220.246993 C95.522113,202.648279 110.955096,188.305867 130.094382,188.212455 C149.233668,188.119953 164.829781,202.311774 164.931877,219.911416 L164.931877,220.246993 C165.032061,237.846637 149.598146,252.189049 130.459792,252.281532 Z M110.225208,129.214643 C124.584333,138.596844 127.172966,159.861801 116.006518,176.711277 C104.84007,193.561684 84.1477917,199.616935 69.7886666,190.235665 C55.4295414,180.853465 52.8418414,159.588506 64.0073568,142.73903 C75.1738045,125.888624 95.8660831,119.833372 110.225208,129.214643 M148.98105,127.51631 C134.622857,136.897581 132.034225,158.163468 143.19974,175.012944 C154.366188,191.86335 175.058467,197.918601 189.417592,188.536401 C203.776717,179.155131 206.365349,157.890173 195.198902,141.039767 C184.033385,124.19029 163.341107,118.135039 148.98105,127.51631 M38.4594121,144.552631 C53.9623081,140.408585 43.6935388,208.51018 31.0794334,202.922504 C17.2041037,191.793632 12.7352874,159.201803 38.4594121,144.552631 M217.617555,143.703929 C202.112796,139.560813 212.38343,207.665197 224.997534,202.077521 C238.872864,190.947718 243.34168,158.352172 217.617555,143.703929 M164.943505,92.9891055 C191.697676,88.4843852 213.959726,104.335498 213.061115,133.265731 C212.18115,144.35742 155.086754,94.6409602 164.943505,92.9891055 M91.0225351,92.1404035 C64.2664998,87.6347535 42.0063137,103.489585 42.9049241,132.417959 C43.7848914,143.508718 100.880218,93.7922584 91.0225351,92.1404035 M129.453982,85.3935482 C113.485934,84.9789578 98.1610822,97.2112352 98.1235695,104.306681 C98.0799835,112.92756 110.749087,121.754804 129.563046,121.978831 C148.775041,122.115479 161.034922,114.913132 161.096872,106.01617 C161.16729,95.9358582 143.622945,85.2373795 129.453982,85.3926187 L129.453982,85.3935482 M130.42903,262.180121 C144.350969,261.574038 163.031627,266.651378 163.068914,273.388007 C163.300092,279.928497 146.12675,294.706881 129.506184,294.421501 C112.292758,295.162372 95.4139815,280.36075 95.6349054,275.230426 C95.3766947,267.708305 116.593784,261.835249 130.42903,262.180121 M79.0068819,222.259524 C88.9186307,234.167379 93.437784,255.088395 85.1657199,261.256124 C77.3401644,265.964422 58.3360431,264.025327 44.8289201,244.674365 C35.7188365,228.43655 36.8924367,211.913353 43.2889777,207.059112 C52.8539595,201.24927 67.6325607,209.097671 79.007814,222.259524 L79.0068819,222.259524 M179.867524,218.48452 C169.142925,231.010542 163.171453,253.857638 170.994212,261.216152 C178.474864,266.933038 198.55564,266.133604 213.388308,245.609517 C224.158583,231.824851 220.550159,208.803925 214.397847,202.69104 C205.258865,195.642074 192.138592,204.663598 179.867524,218.4808 L179.867524,218.48452\" fill=\"#333333\"></path>\n                </g>\n            </g>\n        </g>\n    </svg>\n);\n\nexport default PiJSSVG;\n\n","import React from \"react\";\n\nconst PiJSBackSVG = props => (\n    <svg\n        {...props}\n        viewBox=\"0 0 306 375\"\n    >\n        <g id=\"Back\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g id=\"icon\" fill=\"#F1DD3F\" fillRule=\"nonzero\">\n                <g id=\"pi-logo\">\n                    <g id=\"raspberry-pi\">\n                        <path d=\"M91.9859033,0.00573339844 C90.0922982,0.0642140625 88.0532075,0.764835352 85.7391832,2.59149609 C80.0744058,0.40477793 74.5780253,-0.355470703 69.6647331,4.09708652 C62.0777118,3.11208867 59.612474,5.14515176 57.7440712,7.51877871 C56.0784319,7.48437832 45.281561,5.80449258 40.3293198,13.1982832 C27.8862841,11.7247998 23.9535884,20.5244197 28.4098035,28.7312062 C25.8678134,32.6689043 23.2341788,36.5595885 29.1773264,44.0680471 C27.0752301,48.2488412 28.3788735,52.7851061 33.3311146,58.2742617 C32.0251801,64.1532885 34.593518,68.2996822 39.2020922,71.5321723 C38.339488,79.5761303 46.5714577,84.2534367 49.0286766,85.9195623 C49.9726152,90.6060422 51.9395359,95.0299324 61.3411189,97.4746535 C62.8922025,104.460226 68.5420876,105.666533 74.0144115,107.13199 C55.9295095,117.655069 40.4209644,131.498933 40.5263556,165.469319 L37.8766832,170.199373 C17.1398177,182.822023 -1.51671693,223.393843 27.6583184,256.370058 C29.563379,266.692468 32.7594819,274.106899 35.6050445,282.312539 C39.8607872,315.378195 67.6370979,330.86181 74.9640779,332.693058 C85.6990887,340.878057 97.1328891,348.644519 112.607068,354.085514 C127.191148,369.142565 142.992956,374.881697 158.880681,374.872545 C159.114374,374.872545 191.273584,369.143712 205.859956,354.085514 C221.331844,348.644519 232.765644,340.878057 243.502946,332.693058 C250.827635,330.86181 278.603946,315.378195 282.859688,282.312539 C285.705251,274.106899 288.901354,266.692468 290.80756,256.370058 C319.980304,223.390403 301.324915,182.817436 280.589195,170.194786 L277.934941,165.464732 C278.040332,131.497787 262.531787,117.652776 244.446885,107.127403 C249.918063,105.661946 255.570239,104.455639 257.119032,97.4700668 C266.520615,95.024199 268.488681,90.6014555 269.431474,85.9149756 C271.889838,84.24885 280.120663,79.5715436 279.26035,71.5275855 C283.866633,68.2950955 286.436116,64.1475551 285.129036,58.269675 C290.082423,52.7805193 291.384921,48.2442545 289.282824,44.0623137 C295.228263,36.5584418 292.590046,32.6677576 290.051493,28.7300596 C294.505417,20.523273 290.575012,11.7225064 278.127394,13.1971365 C273.17859,5.8033459 262.382864,7.48208496 260.712643,7.51648535 C258.845385,5.14400508 256.380148,3.11094199 248.793126,4.09593984 C243.879834,-0.356617383 238.385745,0.40248457 232.718676,2.59034941 C225.989677,-2.72451094 221.538044,1.5354041 216.451773,3.14648906 C208.304574,0.481605469 206.440754,4.13148691 202.438179,5.61873047 C193.553242,3.73932246 190.853165,7.83067559 186.595131,12.1490713 L181.639453,12.0504568 C168.238732,19.9556666 161.580757,36.0527561 159.220911,44.3283434 C156.861064,36.0516094 150.217982,19.9545199 136.819552,12.0504568 L131.865019,12.1490713 C127.600112,7.83067559 124.901181,3.73932246 116.016244,5.61873047 C112.012524,4.13148691 110.156722,0.481605469 102.00265,3.14648906 C98.6644982,2.08925039 95.5944066,-0.107787891 91.9801755,0.00458671875 L0,161.681836\" id=\"Path\"></path>\n                    </g>\n                </g>\n            </g>\n            <g id=\"arrow_drop_down_circle-24px\" transform=\"translate(161.500000, 220.500000) rotate(90.000000) translate(-161.500000, -220.500000) translate(31.000000, 90.000000)\">\n                <polygon id=\"Path\" points=\"2.84217094e-14 0 261 0 261 261 2.84217094e-14 261\"></polygon>\n                <path d=\"M131.5,21 C71.608,21 23,69.608 23,129.5 C23,189.392 71.608,238 131.5,238 C191.392,238 240,189.392 240,129.5 C240,69.608 191.392,21 131.5,21 Z M131.5,160.317647 L88.1,116.917647 L174.9,116.917647 L131.5,160.317647 Z\" id=\"Shape\" fill=\"#333333\" fillRule=\"nonzero\"></path>\n            </g>\n        </g>\n    </svg>\n);\n\nexport default PiJSBackSVG;\n\n","import React from \"react\";\n\nconst SpadeSVG = props => {\n    const { color } = props;\n    let c = `#333333`;\n    if (color) {\n        if (color) {\n            c = color;\n        }\n    }\n    return (\n        <svg {...props} viewBox=\"0 0 36 44\">\n            <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                <g transform=\"translate(0.133551, 0.593000)\" fill={c}>\n                    <path d=\"M17.6934489,0 C17.5894489,0.067 17.5174489,0.103 17.4004489,0.18 C9.80444891,5.03 0.943448911,14.491 0.0354489114,26.284 C-0.397551089,31.894 3.19044891,35.779 7.82744891,35.864 C10.7884489,35.918 13.1694489,34.866 14.4604489,32.856 C15.5334489,31.185 15.8064489,28.608 15.9804489,29.799 C16.6054489,34.341 14.7024489,38.706 13.6734489,42.519 C14.8224489,42.102 16.2634489,41.892 17.7064489,41.888 L17.7324489,41.888 C19.1734489,41.892 20.6134489,42.102 21.7594489,42.519 C20.7304489,38.706 18.8314489,34.341 19.4564489,29.799 C19.6284489,28.608 19.9024489,31.185 20.9724489,32.856 C22.2614489,34.866 24.6424489,35.918 27.6034489,35.864 C32.2414489,35.779 35.8294489,31.894 35.3984489,26.284 C34.4884489,14.491 25.6284489,5.03 18.0384489,0.18 C17.9564489,0.119 17.8844489,0.081 17.7654489,0 L17.6934489,0 Z\"></path>\n                </g>\n            </g>\n        </svg>\n    )\n};\nexport default SpadeSVG;\n","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconPrivacy from '@material-ui/icons/Accessibility';\nimport IconUserEntity from '@material-ui/icons/AccountCircle';\nimport IconHome from '@material-ui/icons/Home';\nimport IconGo from '@material-ui/icons/PlayCircleOutline';\nimport IconSettings from '@material-ui/icons/Settings';\nimport IconSocial from '@material-ui/icons/PlayCircleOutline';\nimport IconReset from '@material-ui/icons/Refresh';\nimport IconDocs from '@material-ui/icons/FileCopy';\nimport IconApi from '@material-ui/icons/PhonelinkSetupOutlined';\nimport IconBack from '@material-ui/icons/ArrowBack';\nimport IconContact from '@material-ui/icons/MailOutline';\nimport IconMenu from '@material-ui/icons/Menu';\nimport IconShare from '@material-ui/icons/Share';\nimport IconHelp from '@material-ui/icons/Help';\nimport IconLink from '@material-ui/icons/Link';\nimport IconWebcam from '@material-ui/icons/FlipCameraIos';\nimport IconTemperature from '@material-ui/icons/AcUnit';\nimport IconAirQuality from '@material-ui/icons/ErrorOutline';\nimport IconPressure from '@material-ui/icons/FormatLineSpacing';\nimport IconHumidity from '@material-ui/icons/Whatshot';\nimport IconZoomIn from '@material-ui/icons/ZoomIn';\nimport IconZoomOut from '@material-ui/icons/ZoomOut';\nimport IconFullscreen from '@material-ui/icons/Fullscreen';\nimport IconClose from '@material-ui/icons/Close';\nimport IconWeather from '@material-ui/icons/AcUnit';\nimport IconMap from '@material-ui/icons/Explore';\nimport IconTime from '@material-ui/icons/Restore';\nimport IconEnvironment from '@material-ui/icons/AcUnit';\nimport IconWifi from '@material-ui/icons/Wifi';\nimport IconWifiOff from '@material-ui/icons/WifiOff';\nimport IconInstall from '@material-ui/icons/SaveAlt';\nimport GithubSVG from '../graphics/GithubSVG';\nimport PiJSSVG from '../graphics/PiJSSVG';\nimport PiJSBackSVG from '../graphics/PiJSBackSVG';\nimport SpadeSVG from '../graphics/SpadeSVG';\nimport IconDarkmode from '@material-ui/icons/Highlight';\nimport IconTrash from '@material-ui/icons/DeleteForeverOutlined';\n\nconst styles = theme => ({\n    navIcon: {\n        width: 24,\n        height: 24,\n    },\n    homeIcon: {\n        marginRight: theme.spacing(),\n    },\n    white: {\n        color: 'white',\n    }\n});\n\nclass Icon extends Component {\n\n    render() {\n        const {\n            classes,\n            icon,\n            color,\n        } = this.props;\n        let iconColor = `secondary`;\n        if (color) {\n            iconColor = color\n        }\n        switch (icon) {\n\n            case `trash`:\n                return (<IconTrash color={iconColor} />);\n            \n            case `userentity`:\n                return (<IconUserEntity color={iconColor} />);\n\n            case `darkmode`:\n                return (<IconDarkmode color={iconColor} />);\n\n            case `pi`:\n                return (<PiJSSVG className={classes.navIcon} />);\n            \n            case `pi-back`:\n                return (<PiJSBackSVG className={classes.navIcon} />);\n\n            case `install`:\n                return (<IconInstall color={iconColor} />);\n\n            case `environment`:\n                return (<IconEnvironment color={iconColor} />);\n\n            case `disconnected`:\n                return (<IconWifiOff color={iconColor} />);\n\n            case `connected`:\n                return (<IconWifi color={iconColor} />);\n\n            case `time`:\n                return (<IconTime color={iconColor} />);\n\n            case `listingslab`:\n                return (<SpadeSVG color={iconColor} className={classes.navIcon} />);\n\n            case `github`:\n                return (<GithubSVG color={`#fff`} className={classes.navIcon} />);\n\n            case `weather`:\n                return (<IconWeather color={iconColor} />);\n\n            case `close`:\n                return (<IconClose color={iconColor} />);\n\n            case `fullscreen`:\n                return (<IconFullscreen color={iconColor} />);\n\n            case `zoomout`:\n                return (<IconZoomOut color={iconColor} />);\n\n            case `zoomin`:\n                return (<IconZoomIn color={iconColor} />);\n\n            case `humidity`:\n                return (<IconHumidity color={iconColor} />);\n\n            case `pressure`:\n                return (<IconPressure color={iconColor} />);\n\n            case `airquality`:\n                return (<IconAirQuality color={iconColor} />);\n\n            case `temperature`:\n                return (<IconTemperature color={iconColor} />);\n\n            case `camera`:\n                return (<IconWebcam color={iconColor} />);\n\n            case `map`:\n                return (<IconMap color={iconColor} />);\n\n            case `link`:\n                return (<IconLink color={iconColor} />);\n\n            case `help`:\n                return (<IconHelp color={iconColor} />);\n\n            case `home`:\n                return (<IconHome color={iconColor} />);\n\n            case `share`:\n                return (<IconShare color={iconColor} />);\n\n            case `contact`:\n                return (<IconContact color={iconColor} />);\n\n            case `docs`:\n                return (<IconDocs color={iconColor} />);\n\n            case `reset`:\n                return (<IconReset color={iconColor} />);\n\n            case `refresh`:\n                return (<IconReset color={iconColor} />);\n\n            case `go`:\n                return (<IconGo color={iconColor} />);\n\n            case `settings`:\n                return (<IconSettings color={iconColor} />);\n\n            case `social`:\n                return (<IconSocial color={iconColor} />);\n\n            case `back`:\n                return (<IconBack color={iconColor} />);\n\n            case `menu`:\n                return (<IconMenu color={iconColor} />);\n\n            case `privacy`:\n                return (<IconPrivacy color={iconColor} />);\n\n            case `api`:\n                return (<IconApi color={iconColor} />);\n\n            default: {\n                return null;\n            }\n        }\n    }\n}\n\nexport default (\n    withStyles(styles, { withTheme: true })(Icon)\n);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getStore } from '../';\nimport {\n    // Typography,\n    IconButton,\n} from '@material-ui/core/';\nimport {\n    Icon,\n} from './';\n\nconst useStyles = makeStyles(theme => ({\n    logo: {\n        display: 'flex',\n        marginRight: theme.spacing(4),\n    },\n    logoText: {\n        color: '#F1DD3F',\n        marginTop: theme.spacing(1.2)\n    },\n}));\n\nfunction Logo() {\n    const classes = useStyles();\n    const store = getStore();\n    return (\n        <div\n            id={`logo`}\n            className={classes.logo}>\n            <IconButton\n                onClick={(e) => {\n                    e.preventDefault();\n                    store.dispatch({ type: `SYSTEM/CAMERA/OPEN` });\n                    store.dispatch({ type: `WEATHER/OPEN` });\n                    store.dispatch({ type: `SYSTEM/USERENTITY/OPEN` });\n                }}>\n                <Icon icon={`pi`} />\n            </IconButton>\n            {/* <Typography\n                className={classes.logoText}\n                variant={`h6`}>\n                PiJS.app\n            </Typography> */}\n        </div>\n    );\n}\n\nconst MemodFuncComponent = React.memo(Logo);\nexport default MemodFuncComponent;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getStore } from '../';\nimport { withStyles } from '@material-ui/core/styles';\nimport mapboxgl from 'mapbox-gl';\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX;\n\nconst styles = theme => ({\n    map: {\n        border: '1px solid rgba(0,0,0,0.5)',\n        height: 450,\n    }\n});\n\nclass Mapbox extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            map: null,\n            defaultLocation: {\n                lat: 0,\n                lng: 0,\n                zoom: 1,\n                flySpeed: 0.75,\n            }\n        }\n    }\n\n    componentDidMount() {\n        const {\n            lat,\n            lng,\n            mapbox,\n            userLocation,\n        } = this.props;\n        const {\n            mapboxStyle,\n            zoom,\n        } = mapbox;\n        \n        let mapOptions = {\n            container: this.mapContainer,\n            style: mapboxStyle,\n            center: [lng, lat],\n            zoom,\n            interactive: false,\n        }\n\n        if (userLocation) {\n            mapOptions.center = [userLocation.lng, userLocation.lat];\n            mapOptions.zoom = userLocation.zoom;\n        }\n\n        const map = new mapboxgl.Map(mapOptions);\n\n        map.on('load', () => {\n            const {\n                hasZoomed,\n                userLocation\n            } = this.props.mapbox;\n            if (!hasZoomed && !userLocation) {\n                this.zoomIn({\n                    lat,\n                    lng,\n                    zoom: 11,\n                    flySpeed: 0.5,\n                })\n            }\n        });\n\n        this.setState({ map })\n    }\n\n    zoomIn = (location) => {\n        const { map } = this.state;\n        map.flyTo({\n            center: [location.lng, location.lat],\n            zoom: location.zoom,\n            speed: location.flySpeed,\n            essential: true\n        });\n        map.once('moveend', () => {\n            const store = getStore();\n            store.dispatch({ type: `SYSTEM/USERENTITY/MAP_COMPLETE`, userLocation: location })\n        })\n    }\n\n    render() {\n        const {\n            classes,\n        } = this.props;\n        return (\n            <React.Fragment>\n                <div ref={el => this.mapContainer = el} className={ classes.map } />\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = (store) => {\n    return {\n        userLocation: store.system.mapbox.userLocation,\n        mapbox: store.system.mapbox,\n        lat: store.system.userEntity.ipgeo.data.latitude,\n        lng: store.system.userEntity.ipgeo.data.longitude,\n    }\n};\n\nexport default (connect( mapStateToProps, null )(withStyles(styles, { withTheme: true })(Mapbox)));\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Button,\n    ExpansionPanel,\n    ExpansionPanelSummary,\n    ExpansionPanelDetails,\n    Typography,\n} from '@material-ui/core/';\nimport {\n    Icon,\n} from './';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nconst useStyles = makeStyles(theme => ({\n    iconBtnSpacer: {\n        marginTop: theme.spacing(),\n        marginLeft: theme.spacing(2),\n        \n    },\n    moreInfoPanel: {\n        background: 'rgba(255,255,255,0.01)',\n    },\n    white: {\n        color: 'white',\n    },\n}));\n\n\nfunction MoreInfo(props) {\n    \n    const classes = useStyles();\n    const moreInfo = `PiJS is an Open Source, meaning that everything you see here is available to download and use for free from github.`;\n    \n    return (\n        <ExpansionPanel className={classes.moreInfoPanel} >\n            <ExpansionPanelSummary\n                expandIcon={<ExpandMoreIcon />}\n                aria-controls=\"More info\"\n                id={`more-info`}>\n                <Typography className={classes.white}>\n                    Open Source\n                </Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>\n                <Typography variant={`body2`} className={classes.white}>\n                    {moreInfo}\n                </Typography>\n        </ExpansionPanelDetails>\n        \n        <Button\n            fullWidth\n            className={classes.resetBtn}\n            variant={`text`}\n            color={`primary`}\n            onClick={(e) => {\n                e.preventDefault();\n                window.open(`https://github.com/listingslab-hardware/pijs`, `_blank`)\n            }}>\n            <Icon icon={`github`} /><span className={classes.iconBtnSpacer}>GitHub</span>\n        </Button>\n    </ExpansionPanel>\n    );\n}\n\nconst MemodFuncComponent = React.memo(MoreInfo);\nexport default MemodFuncComponent;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport { Icon } from './';\n\nconst useStyles = makeStyles(theme => ({\n}));\n\nconst actions = [\n    { icon: <Icon icon={`userentity`} color={`primary`} />, name: 'User Entity' },\n];\n\nexport default function SpeedDialMenu() {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    return (\n        <SpeedDial\n            open={open}\n            direction={`up`}\n            ariaLabel=\"SpeedDial Menu\"\n            className={classes.speedDial}\n            icon={<SpeedDialIcon />}\n            onClose={handleClose}\n            onOpen={handleOpen}\n        >\n            {actions.map(action => (\n                <SpeedDialAction\n                    key={action.name}\n                    icon={action.icon}\n                    tooltipTitle={action.name}\n                    tooltipOpen\n                    onClick={handleClose}\n                />\n            ))}\n        </SpeedDial>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport {\n    Button,\n    Card,\n    CardHeader,\n    CardContent,\n    IconButton,\n} from '@material-ui/core/';\nimport { getStore } from '../';\nimport {\n    Icon,\n    // Mapbox,\n} from './';\n\nconst useStyles = makeStyles(theme => ({\n    userEntity: {\n        margin: theme.spacing(),\n        maxWidth: 360,\n    },\n    iconBtnSpacer: {\n        marginLeft: theme.spacing(2),\n    },\n    moreInfoPanel: {\n        background: 'rgba(255,255,255,0.01)',\n    },\n    white: {\n        color: 'white',\n    },\n    ipgeoFlag: {\n        paddingTop: theme.spacing(2)\n    },\n    ipgeoText: {\n        paddingTop: theme.spacing(2.5)\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    btnIcon: {\n        marginLeft: theme.spacing()\n    }\n}));\n\nfunction UserEntity() {\n\n    const classes = useStyles();\n    const store = getStore();\n    const {\n        userEntity,\n    } = useSelector(state => state.system);\n    const {\n        open,\n        ipgeo,\n        // visits,\n    } = userEntity;\n\n    if (!open) {\n        return null;\n    }\n\n\n    const {\n        ip,\n        city,\n        // country_flag,\n        country_name,\n        state_prov,\n    } = ipgeo.data;\n\n    const ipgeolocation = `${city}, ${state_prov}, ${country_name}`;\n    \n    const title = `Privacy`;\n    const moreInfo = `What do we currently know about you? Only your IP address. \n    <strong>${ip}</strong>. Using a free service from ipgeolocation.io, \n    we know that ip's location is <strong>${ipgeolocation}</strong>`;\n    \n    return (\n        <Card className={classes.userEntity}>\n            <CardHeader\n                title={title}\n                // subheader={subheader}\n                avatar={<Icon\n                    icon={`userentity`}\n                    color={`primary`}\n                />}\n                action={\n                    <IconButton\n                        onClick={(e) => {\n                            e.preventDefault();\n                            store.dispatch({ type: \"SYSTEM/USERENTITY/CLOSE\" });\n                        }}>\n                        <Icon\n                            icon={`close`}\n                            color={`primary`}\n                        />\n                    </IconButton>\n                } />\n                <CardContent>\n                <div dangerouslySetInnerHTML={{ __html: moreInfo}} />\n            </CardContent>\n            {/* <Mapbox /> */}\n            <CardContent>\n            <Button\n                variant={`outlined`}\n                color={`inherit`}\n                onClick={(e) => {\n                    e.preventDefault();\n                    store.dispatch({ type: \"SYSTEM/RESET\" });\n                    store.dispatch({ type: \"WEATHER/RESET\" });\n                    window.localStorage.clear();\n                    window.location.assign(`/?reset=${Date.now()}`);\n                }}>\n                <Icon icon={`reset`} color={`primary`} />\n                <span className={classes.iconBtnSpacer}>Restart</span>\n                </Button>\n                \n            </CardContent>\n\n        </Card>\n    );\n}\n\nconst MemodFuncComponent = React.memo(UserEntity);\nexport default MemodFuncComponent;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Grid,\n} from '@material-ui/core/';\nimport {\n    Camera,\n    Dock,\n    UserEntity,\n    Weather,\n} from './';\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        backgroundColor: '#212121', // '#212121'\n        // border: '1px solid pink', // '#212121'\n        minHeight: '100vh',\n    },\n    topColumn: {\n        margin: 'auto',\n    },\n    top: {\n        // border: '1px solid pink', // '#212121'\n        margin: 'auto',\n        maxWidth: 800,\n    }\n}));\n\nexport default function View() {\n    const classes = useStyles();\n    const {\n        camera,\n        userEntity,\n    } = useSelector(state => state.system);\n    const {\n        weather,\n    } = useSelector(state => state);\n    const cameraOpen = camera.open;\n    const userEntityOpen = userEntity.open;\n    const weatherOpen = weather.open;\n    return (\n        <React.Fragment>\n            <div className={classes.view}>\n                <Grid container>\n\n                    {cameraOpen ?\n                        <Grid item xs={12} sm={6} md={8}>\n                            <div className={classes.top}>\n                                <Camera />\n                            </div>\n                        </Grid> : null}\n\n                    {weatherOpen || userEntityOpen ?\n                        <Grid item xs={12} sm={6} md={4}>\n                            <div className={classes.none}>\n                                <Weather />\n                                <UserEntity />\n                            </div>\n                        </Grid> : null }\n                        \n\n                </Grid>\n                <Dock />\n            </div>\n        </React.Fragment>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport { getStore } from '../';\nimport moment from 'moment';\nimport {\n    Avatar,\n    Card,\n    CardContent,\n    CardHeader,\n    IconButton,\n    Typography,\n} from '@material-ui/core/';\nimport {\n    Icon,\n} from './';\n\nconst useStyles = makeStyles(theme => ({\n    camera: {\n        margin: theme.spacing(),\n        maxWidth: 360,\n    },\n    iconBtnSpacer: {\n        marginTop: theme.spacing(),\n        marginLeft: theme.spacing(2),\n        \n    },\n    moreInfoPanel: {\n        background: 'rgba(255,255,255,0.01)',\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    white: {\n        color: 'white',\n    },\n}));\n\nfunction degToCompass(num) {\n    while (num < 0) num += 360;\n    while (num >= 360) num -= 360;\n    let val = Math.round((num - 11.25) / 22.5);\n    let arr = [\"N\", \"NNE\", \"NE\", \"ENE\", \"E\", \"ESE\", \"SE\",\n        \"SSE\", \"S\", \"SSW\", \"SW\", \"WSW\", \"W\", \"WNW\", \"NW\", \"NNW\"];\n    return arr[Math.abs(val)];\n}\n\nfunction Weather() {\n    \n    const classes = useStyles();\n    const store = getStore();\n    const {\n        open,\n        data,\n    } = useSelector(state => state.weather);\n    \n    if (!open || !data) {\n        return null;\n    }\n\n    const title = `Weather`;\n    const windSpeed = `${Math.round((data.wind.speed * 3.6) * 10) / 10} km/h`;\n    const windDirection = `${degToCompass(data.wind.deg)}`;\n    const temperature = `${Math.round((data.main.temp - 273.15) * 10) / 10} C`;\n    const humidity = `${data.main.humidity} %`;\n    const overview = `${data.weather[0].main} (${data.weather[0].description})`;\n    const outlookIcon = `https://openweathermap.org/img/w/${data.weather[0].icon}.png`;\n    const sunrise = moment(data.sys.sunrise * 1000).fromNow();\n    const sunset = moment(data.sys.sunset * 1000).fromNow();\n\n    return (\n        <Card className={classes.camera}>\n            <CardHeader\n                title={title}\n                avatar={<React.Fragment>\n                            {/* \n                                <Icon\n                                    icon={`weather`}\n                                    color={`primary`} /> \n                            */}\n                            <Avatar src={outlookIcon} alt={overview} />\n                        </React.Fragment>}\n                action={\n                    <IconButton\n                        onClick={(e) => {\n                            e.preventDefault();\n                            store.dispatch({ type: \"WEATHER/CLOSE\" });\n                        }}>\n                        <Icon\n                            icon={`close`}\n                            color={`primary`}\n                        />\n                    </IconButton>\n                } />\n            \n            <CardContent>\n                \n                <Typography variant={`h6`}>\n                    {overview}\n                </Typography>\n                <Typography variant={`h6`}>\n                    temperature {temperature}\n                </Typography>\n                <Typography variant={`body1`}>\n                    humidity {humidity}\n                </Typography>\n                \n                \n                <Typography variant={`body1`}>\n                    Wind {windSpeed}, from {windDirection}\n                </Typography>\n\n                <Typography variant={`body1`}>\n                    Sun rose {sunrise}\n                </Typography>\n\n                <Typography variant={`body1`}>\n                    Sun sets in  {sunset}\n                </Typography>\n            </CardContent>\n        </Card>\n    );\n}\n\nconst MemodFuncComponent = React.memo(Weather);\nexport default MemodFuncComponent;\n","// eslint-disable-next-line no-unused-vars\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { getStore } from './';\nimport {\n    createFingerprint,\n    ipgeolocation,\n} from './redux/system/actions';\nimport { fetchWeather } from './redux/weather/actions';\nimport { checkFingerprint } from './redux/firebase/actions';\nclass ClockWork extends Component {\n    state = { timer: null }\n\n    componentDidMount() {\n        const store = getStore();\n        store.dispatch({ type: `SYSTEM/NEW/VISIT` });\n        this.startTimer();\n        createFingerprint();\n        fetchWeather();\n        ipgeolocation();\n    }\n\n    componentWillUnmount() { this.stopTimer() }\n\n    tick = () => {\n        const store = getStore();\n        store.dispatch({ type: `SYSTEM/TICK` });\n        const {\n            booted,\n            fingerprint,\n            ipgeo,\n            ticks,\n            userEntityCreated,\n            userShownAtTick,\n            fingerprintChecked,\n        } = this.props;\n        const userEntityCreatedAgo = moment(userEntityCreated).fromNow();\n\n        if (booted && !fingerprintChecked) {\n            checkFingerprint(fingerprint);\n        }\n\n        if (ticks % 20 === 0) {\n            store.dispatch({ type: `SYSTEM/CAMERA/UPDATE` })\n        }\n        \n        switch (ticks) {\n            case 1:\n                store.dispatch({\n                    type: `SYSTEM/SAYS`, say: {\n                        message: `Debian GNU/Linux 4.19.75`,\n                        color: `white`,\n                    }\n                })\n                break;\n            \n            case 2:\n                store.dispatch({\n                    type: `SYSTEM/SAYS`, say: {\n                        message: `<br />> pi@raspberrypi: ~$`,\n                        color: `white`,\n                    }\n                })\n                store.dispatch({\n                    type: `SYSTEM/SAYS`, say: {\n                        message: `<br />creating new userEntity<br />`,\n                        color: `#F1DD3F`,\n                    }\n                })\n                break;\n                        \n            default:\n                break;            \n        }\n\n        if (!booted && ticks > 2) {\n            store.dispatch({ type: `SYSTEM/CAMERA/UPDATE` })\n            // store.dispatch({ type: `SYSTEM/CAMERA/UPDATE` })\n            if (ipgeo && fingerprint) {\n                if (!userShownAtTick) {\n                    store.dispatch({ type: `SYSTEM/BOOT/SHOWUSERATTICK`, ticks });\n                    store.dispatch({\n                        type: `SYSTEM/SAYS`, say: {\n                            message: `{<br />\n                            &nbsp;&nbsp;&nbsp;&nbsp;\"created\": \"${userEntityCreatedAgo}\"<br />\n                            &nbsp;&nbsp;&nbsp;&nbsp;\"fingerprint\": \"${fingerprint}\"<br />\n                            &nbsp;&nbsp;&nbsp;&nbsp;\"ip\": \"${ipgeo.data.ip}\"<br />\n                            &nbsp;&nbsp;&nbsp;&nbsp;\"latitude\": ${ipgeo.data.latitude}<br />\n                            &nbsp;&nbsp;&nbsp;&nbsp;\"longitude\": ${ipgeo.data.longitude}<br />\n                            &nbsp;&nbsp;&nbsp;&nbsp;\"postcode\": \"${ipgeo.data.zipcode}\"<br />\n                            &nbsp;&nbsp;&nbsp;&nbsp;\"city\": \"${ipgeo.data.city}\"<br />\n                            &nbsp;&nbsp;&nbsp;&nbsp;\"state\": \"${ipgeo.data.state_prov}\"<br />\n                            &nbsp;&nbsp;&nbsp;&nbsp;\"country\": \"${ipgeo.data.country_name}\"<br />\n                            }<br />`,\n                            color: `#eee`,\n                        }\n                    })\n                }\n                if (ticks === userShownAtTick + 1) {\n                    store.dispatch({\n                        type: `SYSTEM/SAYS`, say: {\n                            message: `Booting...<br />`,\n                            color: `#F1DD3F`,\n                        }\n                    })\n                }\n                if (ticks === userShownAtTick + 2) {\n                    store.dispatch({ type: `SYSTEM/BOOT` });\n                }\n            }\n        }\n    }\n\n    startTimer = () => {\n        const {tickDelay} = this.props;\n        const {\n            timer\n        } = this.state;\n        if (!timer) {\n            this.setState({ timer: setInterval(this.tick, tickDelay * 1000) });\n        }\n    }\n\n    stopTimer = () => {\n        const {\n            timer\n        } = this.state;\n        if (timer) {\n            clearInterval(timer);\n            this.setState({ timer: null });\n        }\n    }\n\n    render() {\n        return null;\n    }\n}\n\nconst mapStateToProps = (store) => {\n    return {\n        userShownAtTick: store.system.boot.userShownAtTick,\n        booted: store.system.boot.booted,\n\n        tickDelay: store.system.clockWork.tickDelay,\n        ticks: store.system.clockWork.ticks,\n        \n        fingerprint: store.system.userEntity.fingerprint.value,\n        components: store.system.userEntity.fingerprint.components,\n        ipgeo: store.system.userEntity.ipgeo,\n        userEntityCreated: store.system.userEntity.created,\n        visits: store.system.userEntity.visits,\n\n        fingerprintChecked: store.firebase.fingerprint.checked,\n        \n    };\n};\n\n\nexport default (connect(mapStateToProps, null)(ClockWork));\n","import packageJSON from \"../package.json\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport initRedux from \"./redux/initRedux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { Provider } from \"react-redux\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport ViewSwitcher from \"./ViewSwitcher\";\nimport ClockWork from \"./ClockWork\";\nimport {\n  CssBaseline,\n} from '@material-ui/core/';\n\nconst disablePersitance = false;\n\nconsole.log(\n  `${packageJSON.name} ${packageJSON.version} (${process.env.REACT_APP_ENV})`\n);\n\nconst purgeStore = () => {\n  console.log(`Persitance Disabled.`);\n  localStorage.clear();\n};\nif (disablePersitance) {\n  purgeStore();\n}\nconst persistedRedux = initRedux();\nconst getStore = () => {\n  return persistedRedux.store;\n};\nexport { getStore };\n  \nReactDOM.render(\n  <Provider store={persistedRedux.store}>\n    <PersistGate loading={null} persistor={persistedRedux.persistor}>\n      <React.Fragment>\n        <ClockWork />\n        <CssBaseline />\n        <ViewSwitcher />\n      </React.Fragment>\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"pijs\")\n);\n\nserviceWorker.register();\n","import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport muiTheme from './theme/mui';\nimport { useSelector } from 'react-redux';\nimport {\n    Boot,\n    View\n} from './components';\n\nexport default function ViewSwitcher() {\n    const {\n        boot,\n    } = useSelector(state => state.system);\n\n    let screen = null;\n    if (!boot.booted) {\n        screen = <Boot />;\n    } else {\n        screen = <View />;\n    }\n\n    return (\n        <React.Fragment>\n            <MuiThemeProvider theme={createMuiTheme(muiTheme)}>\n                {screen}\n            </MuiThemeProvider>\n        </React.Fragment>\n    );\n}\n"],"sourceRoot":""}